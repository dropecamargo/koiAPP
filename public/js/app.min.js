app||(app={}),function(e,t,i){app.ActividadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("actividades.index"))},idAttribute:"id",defaults:{actividad_codigo:"",actividad_nombre:"",actividad_tarifa:"0",actividad_categoria:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AjusteModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ajustes.index"))},idAttribute:"id",defaults:{ajuste1_fecha:moment().format("YYYY-MM-DD"),ajuste1_numero:"",ajuste1_documentos:"",ajuste1_sucursal:"",ajuste1_tipoajuste:"",ajuste1_observaciones:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AjusteDetalleModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("ajustes.detalle.index"))},idAttribute:"id",defaults:{ajuste2_ajuste1:"",ajuste2_producto:"",ajuste2_cantidad_entrada:"",ajuste2_cantidad_salida:"",ajuste2_costo:"",ajuste2_costo_promedio:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.index"))},idAttribute:"id",defaults:{asiento1_ano:moment().format("YYYY"),asiento1_mes:moment().format("M"),asiento1_dia:moment().format("D"),asiento1_folder:"",asiento1_documento:"",documento_tipo_consecutivo:"",asiento1_numero:"",asiento1_beneficiario:"",tercero_nit:"",tercero_nombre:"",asiento1_sucursal:"",asiento1_preguardado:"",asiento1_detalle:"",asiento1_fecha_elaboro:""}})}(this,this.document),app||(app={}),function(e,t,i){app.Asiento2Model=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("asientos.detalle.index"))},idAttribute:"id",defaults:{asiento2_asiento:"",asiento2_cuenta:"",plancuentas_cuenta:"",plancuentas_nombre:"",asiento2_beneficiario:"",tercero_nit:"",tercero_nombre:"",asiento2_debito:0,asiento2_credito:0,asiento2_centro:"",centrocosto_nombre:"",asiento2_base:0,asiento2_detalle:"",asiento2_orden:"",ordenp_codigo:""}})}(this,this.document),app||(app={}),function(e,t,i){app.BitacoraModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("bitacoras.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.CategoriaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("categorias.index"))},idAttribute:"id",defaults:{categoria_nombre:"",categoria_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.CentroCostoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("centroscosto.index"))},idAttribute:"id",defaults:{centrocosto_codigo:"",centrocosto_centro:"",centrocosto_nombre:"",centrocosto_descripcion1:"",centrocosto_descripcion2:"",centrocosto_estructura:"N",centrocosto_tipo:"N",centrocosto_activo:!0}})}(this,this.document),app||(app={}),function(e,t,i){app.ContactoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},idAttribute:"id",defaults:{tcontacto_nombres:"",tcontacto_apellidos:"",tcontacto_telefono:"",tcontacto_celular:"",tcontacto_municipio:"",tcontacto_direccion:"",tcontacto_email:"",tcontacto_cargo:""}})}(this,this.document),app||(app={}),function(e,t,i){app.DocumentoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("documentos.index"))},idAttribute:"id",defaults:{documento_codigo:"",documento_nombre:"",documento_folder:"",documento_tipo_consecutivo:"A"}})}(this,this.document),app||(app={}),function(e,t,i){app.DocumentosModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("documento.index"))},idAttribute:"id",defaults:{documentos_codigo:"",documentos_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.EmpresaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("empresa.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,actividad_tarifa:"",empresa_niif:"",empresa_iva:""}})}(this,this.document),app||(app={}),function(e,t,i){app.FolderModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("folders.index"))},idAttribute:"id",defaults:{folder_codigo:"",folder_nombre:""}})}(this,this.document),app||(app={}),function(e,t,i){app.ImpuestoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("impuestos.index"))},idAttribute:"id",defaults:{impuesto_nombre:"",impuesto_porcentaje:"",impuesto_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.ItemRolloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.rollos.index"))},idAttribute:"id",defaults:{prodboderollo_item:0,prodboderollo_metros:0,prodboderollo_saldo:0,prodboderollo_lote:"",prodboderollo_fecha_lote:""}})}(this,this.document),app||(app={}),function(e,t,i){app.LineaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("lineas.index"))},idAttribute:"id",defaults:{linea_nombre:"",linea_activo:!0,linea_margen_nivel1:"",linea_margen_nivel2:"",linea_margen_nivel3:""}})}(this,this.document),app||(app={}),function(e,t,i){app.ItemLoteModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.lotes.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.MarcaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("marcas.index"))},idAttribute:"id",defaults:{marca_nombre:"",marca_activo:!0}})}(this,this.document),app||(app={}),function(e,t,i){app.ModeloModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("modelos.index"))},idAttribute:"id",defaults:{modelo_nombre:"",modelo_activo:!0}})}(this,this.document),app||(app={}),function(e,t,i){app.PedidoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("pedidos.index"))},idAttribute:"id",defaults:{pedido1_numero:"",pedido1_tercero:"",pedido1_documentos:"",pedido1_sucursal:"",pedido1_anticipo:"",pedido1_observaciones:"",pedido1_anulado:!1,pedido1_cerrado:!1,pedido1_fecha:moment().format("YYYY-MM-DD"),pedido1_fecha_estimada:moment().format("YYYY-MM-DD"),pedido1_fecha_anticipo:moment().format("YYYY-MM-DD"),tercero_nombre:"",tercero_nit:""}})}(this,this.document),app||(app={}),function(e,t,i){app.PedidoDetalleModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("pedidos.detalle.index"))},idAttribute:"id",defaults:{pedido2_pedido1:"",pedido2_serie:"",pedido2_cantidad:"",pedido2_saldo:"",pedido2_precio:""}})}(this,this.document),app||(app={}),function(e,t,i){app.PlanCuentaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("plancuentas.index"))},idAttribute:"id",defaults:{plancuentas_cuenta:"",plancuentas_nivel:"",plancuentas_nombre:"",plancuentas_naturaleza:"D",plancuentas_centro:"",plancuentas_tercero:!1,plancuentas_tipo:"N",plancuentas_tasa:0}})}(this,this.document),app||(app={}),function(e,t,i){app.ProdBodeloteModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.lotes.index"))},idAttribute:"id",defaults:{}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductoModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("productos.index"))},idAttribute:"id",defaults:{producto_nombre:"",producto_referencia:"",producto_ref_proveedor:"",producto_categoria:"",producto_barras:"",producto_serie:"",producto_linea:"",producto_marca:"",producto_modelo:"",producto_impuesto:"",producto_unidadmedida:"",producto_peso:"",producto_largo:"",producto_alto:"",producto_ancho:"",producto_precio1:0,producto_precio2:0,producto_precio3:0,producto_costo:0,producto_vidautil:0,producto_vence:0,producto_maneja_serie:1,producto_metrado:0,producto_unidadnegocio:"",producto_subcategoria:"",producto_unidad:1}})}(this,this.document),app||(app={}),function(e,t,i){app.PuntoVentaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("puntosventa.index"))},idAttribute:"id",defaults:{puntoventa_nombre:"",puntoventa_numero:"",puntoventa_prefijo:"",puntoventa_resolucion_dian:""}})}(this,this.document),app||(app={}),function(e,t,i){app.RegionalModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("regionales.index"))},idAttribute:"id",defaults:{regional_nombre:"",regional_activo:!0}})}(this,this.document),app||(app={}),function(e,t,i){app.SubCategoriaModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("subcategorias.index"))},idAttribute:"id",defaults:{subcategoria_nombre:"",subcategoria_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.SucursalModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("sucursales.index"))},idAttribute:"id",defaults:{sucursal_nombre:"",sucursal_direccion:"",sucursal_direccion_nomenclatura:"",sucursal_regional:"",sucursal_telefono:"",sucursal_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.TerceroModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.index"))},idAttribute:"id",defaults:{tercero_nit:"",tercero_digito:"",tercero_regimen:"",tercero_tipo:"",tercero_persona:"",tercero_razonsocial:"",tercero_nombre1:"",tercero_nombre2:"",tercero_apellido1:"",tercero_apellido2:"",tercero_direccion:"",tercero_dir_nomenclatura:"",tercero_municipio:"",tercero_email:"",tercero_telefono1:"",tercero_telefono2:"",tercero_fax:"",tercero_celular:"",tercero_actividad:"",tercero_cc_representante:"",tercero_representante:"",tercero_activo:!1,tercero_responsable_iva:!1,tercero_autoretenedor_cree:!1,tercero_gran_contribuyente:!1,tercero_autoretenedor_renta:!1,tercero_autoretenedor_ica:!1,tercero_socio:!1,tercero_cliente:!1,tercero_acreedor:!1,tercero_interno:!1,tercero_mandatario:!1,tercero_empleado:!1,tercero_proveedor:!1,tercero_extranjero:!1,tercero_afiliado:!1,tercero_otro:!1,tercero_cual:"",username:"",actividad_tarifa:""}})}(this,this.document),app||(app={}),function(e,t,i){app.TipoActividadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tiposactividad.index"))},idAttribute:"id",defaults:{tipoactividad_nombre:"",tipoactividad_activo:!1,tipoactividad_comercial:!1,tipoactividad_tecnico:!1,tipoactividad_cartera:!1}})}(this,this.document),app||(app={}),function(e,t,i){app.TipoAjusteModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("tiposajuste.index"))},idAttribute:"id",defaults:{tipoajuste_nombre:"",tipoajuste_sigla:"",tipoajuste_tipo:"",tipoajuste_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.UnidadModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("unidades.index"))},idAttribute:"id",defaults:{unidadmedida_sigla:"",unidadmedida_nombre:"",unidad_medida_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.UnidadNegocioModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("unidadesnegocio.index"))},idAttribute:"id",defaults:{unidadnegocio_nombre:"",unidadnegocio_activo:1}})}(this,this.document),app||(app={}),function(e,t,i){app.UsuarioRolModel=Backbone.Model.extend({urlRoot:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},idAttribute:"id",defaults:{user_id:"",role_id:""}})}(this,this.document),app||(app={}),function(e,t,i){app.AjustesDetalleCollection=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("ajustes.detalle.index"))},model:app.AjusteDetalleModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoCuentasList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.detalle.index"))},model:app.Asiento2Model,initialize:function(){},debitos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asiento2_debito"))},0)},creditos:function(){return this.reduce(function(e,t){return e+parseFloat(t.get("asiento2_credito"))},0)},totalize:function(){var e=this.debitos(),t=this.creditos();return{debitos:e,creditos:t,diferencia:Math.abs(t-e)}}})}(this,this.document),app||(app={}),function(e,t,i){app.AsientoMovimientosList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("asientos.detalle.movimientos"))},model:app.AsientoMovModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.BitacoraCollection=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("bitacoras.index"))},model:app.BitacoraModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.CuotasFPList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("facturap.cuotas.index"))},model:app.Facturap2Model,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ItemRolloINList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.rollos.index"))},model:app.ItemRolloModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductoLote=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.lotes.index"))},model:app.ProdBodeloteModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ProductoSeriesINList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("productos.index"))},model:app.ProductoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.DetallePedidoCollection=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("pedidos.detalle.index"))},model:app.PedidoDetalleModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.ContactsList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.contactos.index"))},model:app.ContactoModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i){app.RolList=Backbone.Collection.extend({url:function(){return e.Misc.urlFull(Route.route("terceros.roles.index"))},model:app.UsuarioRolModel,initialize:function(){}})}(this,this.document),app||(app={}),function(e,t,i,o){app.CreateActividadView=Backbone.View.extend({el:"#actividad-create",template:_.template(e("#add-actividad-tpl").html()||""),events:{"submit #form-actividad":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-actividad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.show",{actividades:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainActividadView=Backbone.View.extend({el:"#actividades-main",initialize:function(){this.$actividadesSearchTable=this.$("#actividades-search-table"),this.$actividadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("actividades.index")),columns:[{data:"actividad_codigo",name:"actividad_codigo"},{data:"actividad_nombre",name:"actividad_nombre"},{data:"actividad_categoria",name:"actividad_categoria"},{data:"actividad_tarifa",name:"actividad_tarifa"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva actividad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("actividades.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("actividades.show",{actividades:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateAjusteView=Backbone.View.extend({el:"#ajuste-create",template:_.template(e("#add-ajuste-tpl").html()||""),templateDetailt:_.template(e("#add-detailt-ajuste-tpl").html()||""),events:{"click .submit-ajuste":"submitFormAjuste","submit #form-ajustes":"onStore","submit #form-detalle-ajuste":"onStoreItem","change .change-in-or-exit-koi-component":"changeTipoAjuste","change .koi-changed-reclacification":"changeReclacification"},parameters:{},initialize:function(){this.$wraperForm=this.$("#render-form-ajuste"),this.detalleAjuste=new app.AjustesDetalleCollection,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var t=this.model.toJSON();this.$wraperForm.html(this.template(t)),this.$form=this.$("#form-ajustes"),this.$divDetalle=this.$("#detalle-ajuste"),this.$selectTipoAjuste=e("#ajuste1_tipoajuste"),this.$fieldCantidadEntrada=e("#ajuste2_cantidad_entrada"),this.$fieldCantidadSalida=e("#ajuste2_cantidad_salida"),this.$fieldCosto=e("#ajuste2_costo"),this.referenceViews(),this.ready()},referenceViews:function(){this.$formItem=this.$("#form-detalle-ajuste"),this.detalleAjustesView=new app.DetalleAjustesView({collection:this.detalleAjuste,parameters:{wrapper:this.el,edit:!0,dataFilter:{id:this.model.get("id")}}})},submitFormAjuste:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.ajuste2=this.detalleAjuste.toJSON(),this.model.save(i,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.tipoajuste=this.$selectTipoAjuste.val(),i.sucursal=this.$("#ajuste1_sucursal").val(),t.Misc.evaluateActionsInventory({data:i,wrap:this.$el,callback:function(e){return function(t,o){e.inventarioActionView instanceof Backbone.View&&(e.inventarioActionView.stopListening(),e.inventarioActionView.undelegateEvents()),e.inventarioActionView=new app.InventarioActionView({model:e.model,collection:e.detalleAjuste,parameters:{data:i,action:t,tipoAjuste:o}}),e.inventarioActionView.render()}}(this)})}},changeTipoAjuste:function(i){var o=this;tiposajuste=o.$selectTipoAjuste.val(),e.ajax({type:"GET",url:t.Misc.urlFull(Route.route("tiposajuste.show",{tiposajuste:tiposajuste})),beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),o.$divDetalle.empty().html(o.templateDetailt(e)),o.ready()}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},changeReclacification:function(t){t.isDefaultPrevented()||(t.preventDefault(),"#"+e(t.currentTarget).attr("id")==this.$fieldCantidadEntrada.selector?e(this.$fieldCantidadSalida.selector).html(this.divDetalle).hide():(e(this.$fieldCantidadEntrada.selector).html(this.divDetalle).hide(),e(this.$fieldCosto.selector).html(this.divDetalle).prop("readonly",!0),e("#ajuste2_producto").html(this.divDetalle).attr("data-costo","ajuste2_costo")))},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n)}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetalleAjusteItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-ajustedetalle-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetalleAjustesView=Backbone.View.extend({el:"#browse-detalle-ajuste-list",events:{"click .item-detalleajuste-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.id)||_.isNull(this.parameters.dataFilter.id)||(this.confCollection.data.id=this.parameters.dataFilter.id,this.collection.fetch(this.confCollection))},render:function(){},addOne:function(e){var t=new app.DetalleAjusteItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.id=this.parameters.dataFilter.id;var o=new app.AjusteDetalleModel;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);o instanceof Backbone.Model&&(o.view.remove(),this.collection.remove(o))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainAjustesView=Backbone.View.extend({el:"#ajustes-main",events:{},initialize:function(){this.$productosSearchTable=this.$("#ajustes-search-table"),this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("ajustes.index")),columns:[{data:"ajuste1_numero",name:"ajuste1_numero"},{data:"tipoajuste_nombre",name:"tipoajuste_nombre"},{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"ajuste1_fecha",name:"ajuste1_fecha"}],buttons:[{text:'<i class="fa fa-cog"></i> Nuevo Ajuste',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("ajustes.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("ajustes.show",{ajustes:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowAjusteView=Backbone.View.extend({el:"#ajuste-show",initialize:function(){this.$wraperForm=this.$("#render-ajuste-show"),this.model.id!=o&&(this.detalleAjuste=new app.AjustesDetalleCollection,this.referenceViews())},referenceViews:function(){this.detalleAjustesView=new app.DetalleAjustesView({collection:this.detalleAjuste,parameters:{wrapper:this.el,edit:!1,dataFilter:{id:this.model.get("id")}}})},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n)}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoActionView=Backbone.View.extend({el:"#asiento-content-section",templateOrdenp:_.template(e("#searchordenp-asiento-tpl").html()||""),templateFacturap:_.template(e("#rfacturap-asiento-tpl").html()||""),templateAddFacturap:_.template(e("#add-rfacturap-asiento-tpl").html()||""),templateCuotasFacturap:_.template(e("#add-rfacturap2-asiento-tpl").html()||""),templateCartera:_.template(e("#rcartera-asiento-tpl").html()||""),templateAddFactura:_.template(e("#add-facturacartera-asiento-tpl").html()||""),templateCuotasFactura:_.template(e("#add-cuotasfacturacartera-asiento-tpl").html()||""),templateInventario:_.template(e("#add-inventario-asiento-tpl").html()||""),templateAddItemRollo:_.template(e("#add-itemrollo-asiento-tpl").html()||""),templateChooseItemsRollo:_.template(e("#choose-itemrollo-asiento-tpl").html()||""),templateAddSeries:_.template(e("#add-series-asiento-tpl").html()||""),events:{"submit #form-create-ordenp-asiento-component-source":"onStoreItemOrdenp","submit #form-create-asiento-component-source":"onStoreItemFacturap","change input#facturap1_factura":"facturapChanged","change select#factura_nueva":"facturaNuevaChanged","submit #form-create-inventario-asiento-component-source":"onStoreItemInventario","change .evaluate-producto-movimiento-asiento":"evaluateProductoInventario"},parameters:{data:{},actions:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalOp=this.$("#modal-asiento-ordenp-component"),this.$modalFp=this.$("#modal-asiento-facturap-component"),this.$modalIn=this.$("#modal-inventario-component"),this.$modalCt=this.$("#modal-asiento-cartera-component"),this.cuotasFPList=new app.CuotasFPList,this.itemRolloINList=new app.ItemRolloINList,this.productoSeriesINList=new app.ProductoSeriesINList,this.listenTo(this.cuotasFPList,"reset",this.addAllCuotasFacturap),this.listenTo(this.itemRolloINList,"reset",this.addAllItemRolloInventario),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.collection,"sync",this.responseServer)},render:function(){this.runAction()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},runAction:function(){var e=this.evaluateNextAction(),t=this,i={facturap:function(){t.$modalFp.find(".content-modal").empty().html(t.templateFacturap(t.parameters.data)),t.referenceFacturap()},cartera:function(){t.$modalCt.find(".content-modal").empty().html(t.templateCartera(t.parameters.data)),t.referenceCartera()},ordenp:function(){t.$modalOp.find(".content-modal").empty().html(t.templateOrdenp(t.parameters.data)),t.referenceOrdenp()},inventario:function(){t.$modalIn.find(".content-modal").empty().html(t.templateInventario(t.parameters.data)),t.referenceInventario()},store:function(){t.onStoreItem()}};i[e.action]&&i[e.action]()},evaluateNextAction:function(){var e;for(e=this.parameters.actions.length-1;e>=0;--e)if(action=this.parameters.actions[e],0==action.success)return action;return{action:"store"}},setSuccessAction:function(e){var t;for(t=this.parameters.actions.length-1;t>=0;--t)item=this.parameters.actions[t],item.action==e&&(item.success=!0)},isLastAction:function(e){var t;for(t=this.parameters.actions.length-1;t>=0;--t)if(item=this.parameters.actions[t],0==item.success&&item.action!=e)return!1;return!0},validateAction:function(i){i||(i={});var o={callback:null,action:null},n={},a={};_this=this,a=e.extend({},o,i),n.action=a.action,n=e.extend({},this.parameters.data,n),e.ajax({url:t.Misc.urlFull(Route.route("asientos.detalle.validate")),type:"POST",data:n,beforeSend:function(){t.Misc.setSpinner(_this.$wraper)}}).done(function(e){if(t.Misc.removeSpinner(_this.$wraper),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);"Function"==={}.toString.call(a.callback).slice(8,-1)&&a.callback(e)}}).fail(function(e,i,o){t.Misc.removeSpinner(a.wrap),alertify.error(o)})},referenceFacturap:function(){this.$wraper=this.$("#modal-asiento-wrapper-facturap"),this.$wraperFormFp=this.$("#content-invoice"),this.$wraperErrorFp=this.$("#error-eval-facturap"),this.$wraperErrorFp.hide().empty(),this.$modalFp.modal("show")},referenceCartera:function(){this.$wraper=this.$("#modal-asiento-wrapper-cartera"),this.$wraperFormCt=this.$("#content-cartera"),this.$wraperErrorCt=this.$("#error-eval-cartera"),this.$wraperErrorCt.hide().empty(),this.$modalCt.modal("show")},referenceOrdenp:function(){this.$wraper=this.$("#modal-asiento-wrapper-ordenp"),this.$wraperFormOp=this.$modalOp.find(".content-modal"),this.$wraperErrorOp=this.$("#error-search-orden-asiento2"),this.$wraperErrorOp.hide().empty(),this.$modalOp.modal("show")},referenceInventario:function(){this.$wraper=this.$("#modal-asiento-wrapper-inventario"),this.$wraperFormIn=this.$modalIn.find(".content-modal"),this.$wraperDetailIn=this.$modalIn.find("#content-detail-inventory"),this.$wraperErrorIn=this.$("#error-inventario-asiento2"),this.$inputInProducto=this.$("#producto_codigo"),this.$inputInUnidades=this.$("#movimiento_cantidad"),this.$inputInSucursal=this.$("#movimiento_sucursal"),this.$wraperErrorIn.hide().empty(),this.$modalIn.modal("show")},onStoreItemOrdenp:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"ordenp",callback:function(e){return function(t){t.success&&(e.setSuccessAction("ordenp",e.parameters.actions),e.isLastAction("ordenp")||e.$modalOp.modal("hide"),e.runAction())}}(this)}))},facturapChanged:function(i){this.$wraperErrorFp.hide().empty(),this.$wraperFormFp.empty(),t.Misc.evaluateFacturap({facturap:e(i.currentTarget).val(),naturaleza:this.parameters.data.asiento2_naturaleza,tercero:this.parameters.data.tercero_nit,wrap:this.$wraperFormFp,callback:function(e){return function(t){if(t.actions){var i={add:function(){e.$wraperFormFp.html(e.templateAddFacturap()),e.ready()},quota:function(){
e.$wraperFormFp.html(e.templateCuotasFacturap()),e.$wraperCuotasFp=e.$("#browse-rfacturap2-list"),e.cuotasFPList.fetch({reset:!0,data:{facturap1:t.facturap}})}};i[t.action]&&i[t.action]()}else _.isUndefined(t.message)||_.isNull(t.message)||""==t.message||(e.$wraperErrorFp.empty().append(t.message),e.$wraperErrorFp.show())}}(this)})},addOneCuotaFacturap:function(e){var t=new app.CuotasFPListView({model:e});this.$wraperCuotasFp.append(t.render().el),this.ready()},addAllCuotasFacturap:function(){this.cuotasFPList.forEach(this.addOneCuotaFacturap,this)},onStoreItemFacturap:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"facturap",callback:function(e){return function(t){t.success&&(e.setSuccessAction("facturap",e.parameters.actions),e.isLastAction("facturap")||e.$modalFp.modal("hide"),e.runAction())}}(this)}))},addOneItemRolloInventario:function(e,t){t||(t=!1);var i=new app.ItemRolloINListView({model:e,parameters:{choose:t}});this.$wraperItemRollo.append(i.render().el),this.ready()},addAllItemRolloInventario:function(){var e=this;this.itemRolloINList.forEach(function(t,i){e.addOneItemRolloInventario(t,!0)})},addOneSerieInventario:function(e){var t=new app.ProductoSeriesINListView({model:e});this.$wraperSeries.append(t.render().el),this.ready()},evaluateProductoInventario:function(i){var o=this,n=this.$inputInProducto.val(),a=this.$inputInSucursal.val(),r=this.$inputInUnidades.val();this.$wraperDetailIn.empty(),n&&a&&r&&e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_codigo:n},beforeSend:function(){o.$wraperErrorIn.hide().empty(),t.Misc.setSpinner(o.$wraperFormIn)}}).done(function(e){if(t.Misc.removeSpinner(o.$wraperFormIn),e.success){if(!e.producto_unidades)return o.$wraperErrorIn.empty().append("No es posible realizar movimientos para productos que no manejan unidades"),void o.$wraperErrorIn.show();if(e.producto_metrado)if("D"==o.parameters.data.asiento2_naturaleza){o.$wraperDetailIn.html(o.templateAddItemRollo()),o.$wraperItemRollo=o.$("#browse-itemtollo-list");for(var i=1;i<=r;i++)o.addOneItemRolloInventario(new app.ItemRolloModel({id:i}))}else o.$wraperDetailIn.html(o.templateChooseItemsRollo()),o.$wraperItemRollo=o.$("#browse-chooseitemtollo-list"),o.itemRolloINList.fetch({reset:!0,data:{producto:e.id,sucursal:a}});else if(e.producto_serie&&"D"==o.parameters.data.asiento2_naturaleza){o.$wraperDetailIn.html(o.templateAddSeries()),o.$wraperSeries=o.$("#browse-series-list");for(var i=1;i<=r;i++)o.addOneSerieInventario(new app.ProductoModel({id:i}))}}}).fail(function(e,t,i){o.$wraperErrorIn.empty().append(i),o.$wraperErrorIn.show()})},onStoreItemInventario:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.validateAction({action:"inventario",callback:function(e){return function(t){t.success&&(e.setSuccessAction("inventario",e.parameters.actions),e.isLastAction("inventario")||e.$modalIn.modal("hide"),_.isUndefined(t.asiento2_valor)||_.isNull(t.asiento2_valor)||t.asiento2_valor==e.parameters.data.asiento2_valor||(e.parameters.data.asiento2_valor=t.asiento2_valor),e.runAction())}}(this)}))},facturaNuevaChanged:function(t){this.$wraperErrorCt.hide().empty(),this.$wraperFormCt.empty(),"N"==e(t.currentTarget).val()?this.$wraperFormCt.html(this.templateAddFactura()):this.$wraperFormCt.html(this.templateCuotasFactura()),this.ready()},onStoreItem:function(e){this.model.id!=o?this.collection.trigger("store",this.parameters.data):this.model.save(this.parameters.data,{patch:!0,silent:!0})},responseServer:function(e,t,i){_.isUndefined(t.success)||t.success&&(this.$modalOp.modal("hide"),this.$modalIn.modal("hide"),this.$modalFp.modal("hide"))}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoCuentasListView=Backbone.View.extend({el:"#browse-detalle-asiento-list",events:{"click .item-asiento2-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$debitos=this.$("#total-debitos"),this.$creditos=this.$("#total-creditos"),this.$diferencia=this.$("#total-diferencia"),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.asiento)||_.isNull(this.parameters.dataFilter.asiento)||(this.confCollection.data.asiento=this.parameters.dataFilter.asiento,this.collection.fetch(this.confCollection))},addOne:function(e){var t=new app.AsientoCuentasItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el),this.totalize()},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper);var o=new app.Asiento2Model;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),a=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(a.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove(),a.collection.remove(e),a.totalize()}}})},totalize:function(){var e=this.collection.totalize();this.$debitos.length&&this.$debitos.html(t.Misc.currency(e.debitos)),this.$creditos.length&&this.$creditos.html(t.Misc.currency(e.creditos)),this.$diferencia.length&&this.$diferencia.html(t.Misc.currency(e.diferencia))},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoCuentasItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-asiento2-item-tpl").html()||""),templateInfo:_.template(e("#show-info-asiento2-tpl").html()||""),templateInfoInsumo:_.template(e("#show-info-asiento2-movimientos-insumo-tpl").html()||""),events:{"click .item-asiento2-show-info":"showInfo"},parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalInfo=e("#modal-asiento-show-info-component"),this.asientoMovimientosList=new app.AsientoMovimientosList,this.listenTo(this.model,"change",this.render),this.listenTo(this.asientoMovimientosList,"request",this.loadSpinner),this.listenTo(this.asientoMovimientosList,"sync",this.responseServer),this.listenTo(this.asientoMovimientosList,"reset",this.addAll)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this},showInfo:function(){var e=this.model.toJSON();this.$modalInfo.find(".content-modal").empty().html(this.templateInfo(e)),this.$wrapperList=this.$modalInfo.find("#browse-showinfo-asiento-list"),this.$wrapperInsumo=this.$modalInfo.find("#browse-showinfo-asiento-insumo"),this.asientoMovimientosList.fetch({reset:!0,data:{asiento2:this.model.get("id")}}),this.$modalInfo.modal("show")},addOne:function(e){var t=new app.AsientoMovimientosItemView({model:e});this.$wrapperList.append(t.render().el)},addAll:function(){this.asientoMovimientosList.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wrapperList)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$wrapperList)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.AsientoMovimientosItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#show-info-asiento2-movimientos-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(e("#add-asiento-tpl").html()||""),templateFp:_.template(e("#add-rfacturap-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","change input#asiento2_base":"baseChanged","submit #form-asientos":"onStore"},initialize:function(){this.$modalFactura=e("#modal-facturap-component"),this.$wraperForm=this.$("#render-form-asientos"),this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$wraperForm.html(this.template(e)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.$formItem=this.$("#form-item-asiento"),this.$inputTasa=this.$("#asiento2_tasa"),this.$inputValor=this.$("#asiento2_valor"),this.$inputBase=this.$("#asiento2_base"),this.referenceViews(),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,edit:!0,dataFilter:{asiento:this.model.get("id")}}})},documentoChanged:function(i){var o=this,n=e(i.currentTarget).val();o.$numero.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(o.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?o.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&o.$numero.prop("readonly",!0)))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.asiento1_id=this.model.get("id"),i.tercero_nit=i.tercero_nit?i.tercero_nit:i.asiento1_beneficiario,i.tercero_nombre=i.tercero_nombre?i.tercero_nombre:i.asiento1_beneficiario_nombre,t.Misc.evaluateActionsAccount({data:i,wrap:this.$el,callback:function(e){return function(t){Array.isArray(t)&&t.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoCuentasList,parameters:{data:i,actions:t}}),e.asientoActionView.render()):e.model.save(i,{patch:!0,silent:!0})}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),i=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*i/100):this.$inputValor.val("")},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.createFacturapView instanceof Backbone.View&&(this.createFacturapView.stopListening(),this.createFacturapView.undelegateEvents()),Backbone.history.navigate(Route.route("asientos.edit",{asientos:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditAsientoView=Backbone.View.extend({el:"#asientos-create",template:_.template(e("#add-asiento-tpl").html()||""),templateFp:_.template(e("#add-rfacturap-tpl").html()||""),events:{"change select#asiento1_documento":"documentoChanged","submit #form-item-asiento":"onStoreItem","change input#asiento2_base":"baseChanged","click .submit-asiento":"submitAsiento","submit #form-asientos":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-asientos"),this.asientoCuentasList=new app.AsientoCuentasList,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$wraperForm.html(this.template(e)),this.$numero=this.$("#asiento1_numero"),this.$form=this.$("#form-asientos"),this.$formItem=this.$("#form-item-asiento"),this.$inputTasa=this.$("#asiento2_tasa"),this.$inputValor=this.$("#asiento2_valor"),this.$inputBase=this.$("#asiento2_base"),this.$inputDocumento=this.$("#asiento1_documento"),this.referenceViews(),this.ready(),"A"==this.model.get("documento_tipo_consecutivo")&&this.$inputDocumento.change()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,edit:!0,dataFilter:{asiento:this.model.get("id")}}})},documentoChanged:function(i){var o=this,n=e(i.currentTarget).val();o.$numero.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("documentos.show",{documentos:n})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),_.isObject(e)&&(_.isUndefined(e.documento_tipo_consecutivo)||_.isNull(e.documento_tipo_consecutivo)||(o.$numero.val(e.documento_consecutivo+1),"M"==e.documento_tipo_consecutivo?o.$numero.prop("readonly",!1):"A"==e.documento_tipo_consecutivo&&o.$numero.prop("readonly",!0)))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},submitAsiento:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},onStoreItem:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.asiento1_id=this.model.get("id"),i.tercero_nit=i.tercero_nit?i.tercero_nit:this.model.get("tercero_nit"),i.tercero_nombre=i.tercero_nombre?i.tercero_nombre:this.model.get("tercero_nombre"),t.Misc.evaluateActionsAccount({data:i,wrap:this.$el,callback:function(e){return function(t){Array.isArray(t)&&t.length>0?(e.asientoActionView instanceof Backbone.View&&(e.asientoActionView.stopListening(),e.asientoActionView.undelegateEvents()),e.asientoActionView=new app.AsientoActionView({model:e.model,collection:e.asientoCuentasList,parameters:{data:i,actions:t}}),e.asientoActionView.render()):e.asientoCuentasList.trigger("store",i)}}(this)})}},baseChanged:function(e){var t=this.$inputTasa.val(),i=this.$inputBase.inputmask("unmaskedvalue");!_.isUndefined(t)&&!_.isNull(t)&&t>0?this.$inputValor.val(t*i/100):this.$inputValor.val("")},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("asientos.edit",{asientos:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CuotasFPListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-rfacturap2-item-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainAsientosView=Backbone.View.extend({el:"#asientos-main",initialize:function(){this.$asientosSearchTable=this.$("#asientos-search-table"),this.$asientosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("asientos.index")),columns:[{data:"asiento1_numero",name:"asiento1_numero"},{data:"asiento1_ano",name:"asiento1_ano"},{data:"asiento1_mes",name:"asiento1_mes"},{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"},{data:"asiento1_preguardado",name:"asiento1_preguardado"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva asiento',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("asientos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return o.asiento1_preguardado&&parseInt(o.asiento1_preguardado)?'<a href="'+t.Misc.urlFull(Route.route("asientos.edit",{asientos:o.id}))+'">'+e+' <span class="label label-warning">PRE</span></a>':'<a href="'+t.Misc.urlFull(Route.route("asientos.show",{asientos:o.id}))+'">'+e+"</a>"}},{targets:[1,2],width:"10%"},{targets:3,width:"15%"},{targets:4,searchable:!1},{targets:[5,6,7,8,9],visible:!1},{targets:10,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowAsientoView=Backbone.View.extend({el:"#asientos-show",initialize:function(){this.model.id!=o&&(this.asientoCuentasList=new app.AsientoCuentasList,this.referenceViews())},referenceViews:function(){this.cuentasListView=new app.AsientoCuentasListView({collection:this.asientoCuentasList,parameters:{wrapper:this.el,dataFilter:{asiento:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateCategoriaView=Backbone.View.extend({el:"#categoria-create",template:_.template(e("#add-categoria-tpl").html()||""),events:{"submit #form-categoria":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-categoria"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("categorias.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainCategoriasView=Backbone.View.extend({el:"#categorias-main",initialize:function(){this.$marcasSearchTable=this.$("#categorias-search-table"),this.$marcasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("categorias.index")),columns:[{data:"id",name:"id"},{data:"categoria_nombre",name:"categoria_nombre"},{data:"categoria_activo",name:"categoria_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva categoría',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("categorias.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("categorias.show",{categorias:o.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateCentroCostoView=Backbone.View.extend({el:"#centrocosto-create",template:_.template(e("#add-centrocosto-tpl").html()||""),events:{"submit #form-centrocosto":"onStore"},parameters:{callback:""},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Centro de costo guardado con exito!",this.$wraperForm=this.$("#render-form-centrocosto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);var a=this,r={toShow:function(){t.Misc.redirect(t.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:i.id})))},"default":function(){alertify.success(a.msgSuccess)}};r[this.parameters.callback]?r[this.parameters.callback]():r["default"]()}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainCentrosCostoView=Backbone.View.extend({el:"#centroscosto-main",initialize:function(){this.$centroscostoSearchTable=this.$("#centroscosto-search-table"),this.$centroscostoSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("centroscosto.index")),columns:[{data:"centrocosto_codigo",name:"centrocosto_codigo"},{data:"centrocosto_centro",name:"centrocosto_centro"},{data:"centrocosto_nombre",name:"centrocosto_nombre"},{data:"centrocosto_estructura",name:"centrocosto_estructura"},{data:"centrocosto_activo",name:"centrocosto_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo centro de costo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("centroscosto.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("centroscosto.show",{centroscosto:o.id}))+'">'+e+"</a>"}},{targets:3,width:"10%",render:function(e,t,i,o){return"S"==parseInt(e)?"Si":"No"}},{targets:[4],width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentAddressView=Backbone.View.extend({el:"body",template:_.template(e("#koi-address-component-tpl").html()||""),templateSelect:_.template(e("#koi-component-select-tpl").html()||""),events:{"focus input.address-koi-component":"addressChanged","click .btn-address-koi-component":"focusComponent","submit #form-address-component":"addAddress","change #component-select":"ChangeSelect","click .koi-component-remove-last":"removeLastItem","click .koi-component-remove":"removeItem","click .koi-component-add":"listeningAddress"},initialize:function(){this.$modalComponent=this.$("#modal-address-component"),this.$modalComponentValidacion=this.$("#modal-address-component-validacion")},focusComponent:function(t){e("#"+e(t.currentTarget).attr("data-field")).focus()},addressChanged:function(i){this.inputContent=e(i.currentTarget),this.inputContentNm=this.$("#"+this.inputContent.attr("data-nm-name")),this.inputContentNmValue=this.$("#"+this.inputContent.attr("data-nm-value")),this.$modalComponent.find(".content-modal").html(this.template({})),this.$addressField=this.$modalComponent.find("#koi_direccion"),this.$addressNomenclaturaField=this.$modalComponent.find("#koi_direccion_nm"),this.$formComponent=this.$modalComponent.find("#form-address-component"),this.addressData=new Array,this.addressDataNm=new Array,this.num=new Array,this.validaciones=["Agencia","Agrupación","Almacen","Autopista","Avenida","Avenida Carrera","Barrio","Boulevar","Calle","Camino","Carrera","Carretera","Casa","Celula","Centro Comercial","Ciudadela","Conjunto","Conjunto Residencial","Corregimiento","Departamento","Deposito","Edificio","Entrada","Etapa","Finca","Hacienda","Lote","Modulo","Municipio","Parcela","Parque","Parqueadero","Pasaje","Paseo","Predio","Puente","Puesto","Salón","Salón Comunal","Sector","Suite","Terminal","Terraza","Torre","Unidad","Unidad Residencial","Urbanización","Variante","Vereda","Zona","Zona Franca"],"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initAlertify&&t.initComponent.initAlertify(),this.$formComponent.validator(),this.$modalComponent.modal("show")},addAddress:function(t){var i=this;t.isDefaultPrevented()||(t.preventDefault(),this.inputContent.val(this.$addressField.val()),this.inputContentNm.text(this.$addressNomenclaturaField.val()),this.inputContentNmValue.val(this.$addressNomenclaturaField.val()),this.$modalComponent.modal("hide"),e(".modal.in").length>0&&setTimeout(function(){i.$el.addClass("modal-open")},500))},listeningAddress:function(t){if(parseInt(e(t.target).text().trim())>0||parseInt(e(t.target).text().trim())<9)this.num=e(t.target).text().trim(),parseInt(this.addressData[this.addressData.length-1])>0||parseInt(this.addressData[this.addressData.length-1])<9?(this.addressData[this.addressData.length-1]+=this.num,this.addressDataNm[this.addressDataNm.length-1]+=this.num):(this.addressData.push(this.num),this.addressDataNm.push(this.num));else if(this.num=[],this.addressData[this.addressData.length-1]!=e(t.target).text().trim()){for(var i=0;i<this.validaciones.length;i++)e(t.target).text().trim()==this.validaciones[i]&&(this.$modalComponentValidacion.find(".modal-content").html(this.templateSelect({})),this.$modalComponentValidacion.find(".modal-title").text(e(t.target).text().trim()),this.$modalComponentValidacion.modal("show"));"#"==e(t.target).text().trim()||"-"==e(t.target).text().trim()?(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(" ")):(this.addressData.push(e(t.target).text().trim()),this.addressDataNm.push(e(t.target).attr("data-key")))}else alertify.error("No puede seleccionar dos nomenclaturas iguales ni más de dos letras seguidas");this.buildAddress()},ChangeSelect:function(t){var i=this;this.$component=this.$("#component-input").hide();var o="";if("si"==e(t.target).val())i.$component.show(),e("input#component-input-text").change(function(){for(var t=e(this).val(e(this).val().toUpperCase()),n=/[^A-Za-z0-9&]/i,a=0;a<=t.val().length-1;a++)n.test(t.val().charAt(a))||(t.val().replace(n,""),o+=t.val().charAt(a));i.addressData.push(o),i.addressDataNm.push(o),i.buildAddress(),i.$modalComponentValidacion.modal("hide"),setTimeout(function(){i.$el.addClass("modal-open")},500)});else{if("no"!=e(t.target).val())return!1;i.$modalComponentValidacion.modal("hide")}i.$modalComponent.length>0&&setTimeout(function(){i.$el.addClass("modal-open")},500)},removeLastItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.pop(),this.addressDataNm.pop(),this.buildAddress())},removeItem:function(e){e.isDefaultPrevented()||(e.preventDefault(),this.addressData.length=0,this.addressDataNm.length=0,this.num.length=0,this.buildAddress())},buildAddress:function(){var t=e.grep(this.addressData,Boolean).join(" ").trim();this.$addressField.val(t);var i=e.grep(this.addressDataNm,Boolean).join(" ").trim();this.$addressNomenclaturaField.val(i)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.BitacoraView=Backbone.View.extend({el:"#browse-bitacora-list",events:{},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{document_id:this.parameters.dataFilter.document_id,document_type:this.parameters.dataFilter.document_type},reset:!0})},render:function(){},addOne:function(e){var t=new app.BitacoraItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.BitacoraItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-bitacora-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ConfirmWindow=Backbone.View.extend({el:"#modal-confirm-component",parameters:{template:null,titleConfirm:"",onConfirm:null,callBack:null,dataFilter:{}},initialize:function(e){e!=o&&_.isObject(e.parameters)&&(this.parameters=_.extend({},this.parameters,e.parameters))},render:function(){var t={};return _.extend(t,this.parameters.dataFilter),this.$el.find(".content-modal").html(this.parameters.template(t)),this.$el.find(".inner-title-modal").html(this.parameters.titleConfirm),this.$el.modal("show"),e(this.el).off("click",".confirm-action"),this.undelegateEvents(),this.delegateEvents({"click .confirm-action":"onConfirm"}),this},onConfirm:function(e){e.preventDefault();this.$el.modal("hide"),"function"==typeof this.parameters.onConfirm&&this.parameters.onConfirm.call(null,this.parameters.dataFilter)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentConsecutiveView=Backbone.View.extend({el:"body",events:{"change .change-sucursal-consecutive-koi-component":"sucursalChange"},initialize:function(){},sucursalChange:function(i){var o=this;documents=e(i.currentTarget).attr("data-document"),sucursal=e(i.currentTarget).val(),this.$consecutive=e("#"+e(i.currentTarget).attr("data-field")),this.$wrapperContent=e("#"+e(i.currentTarget).attr("data-wrapper")),e.ajax({url:t.Misc.urlFull(Route.route("sucursales.show",{sucursales:sucursal})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.$wrapperContent)}}).done(function(e){t.Misc.removeSpinner(o.$wrapperContent);var i=0;"pedido"==documents&&(i=e.sucursal.sucursal_pedn),
"ajuste"==documents&&(i=e.sucursal.sucursal_ajus),o.$consecutive.val(parseInt(i)+1)}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wrapperContent),alertify.error(n)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentCreateResourceView=Backbone.View.extend({el:"body",events:{"click .btn-add-resource-koi-component":"addResource","submit #form-create-resource-component":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperError=this.$("#error-resource-component"),this.$wraperContent=this.$("#content-create-resource-component").find(".modal-body")},addResource:function(t){if(this.resource=e(t.currentTarget).attr("data-resource"),this.$resourceField=e("#"+e(t.currentTarget).attr("data-field")),this.parameters={},"contacto"==this.resource&&(this.$inputPhone=this.$("#"+e(t.currentTarget).attr("data-phone")),this.$inputAddress=this.$("#"+e(t.currentTarget).attr("data-address")),this.$inputCity=this.$("#"+e(t.currentTarget).attr("data-city")),this.$inputEmail=this.$("#"+e(t.currentTarget).attr("data-email")),this.parameters.tcontacto_tercero=e(t.currentTarget).attr("data-tercero"),_.isUndefined(this.parameters.tcontacto_tercero)||_.isNull(this.parameters.tcontacto_tercero)||""==this.parameters.tcontacto_tercero))return void alertify.error("Por favor ingrese cliente antes agregar contacto.");var i=this,o={contacto:function(){i.$resourceName=e("#"+e(t.currentTarget).attr("data-name")),i.$modalComponent.find(".inner-title-modal").html("Contacto"),i.model=new app.ContactoModel;var o=_.template(e("#add-contacto-tpl").html());i.$modalComponent.find(".content-modal").html(o(i.model.toJSON()))},marca:function(){i.$modalComponent.find(".inner-title-modal").html("Marca"),i.model=new app.MarcaModel;var t=_.template(e("#add-marca-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},linea:function(){i.$modalComponent.find(".inner-title-modal").html("Linea"),i.model=new app.LineaModel;var t=_.template(e("#add-linea-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},categoria:function(){i.$modalComponent.find(".inner-title-modal").html("Categoria"),i.model=new app.CategoriaModel;var t=_.template(e("#add-categoria-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},subcategoria:function(){i.$modalComponent.find(".inner-title-modal").html("SubCategoria"),i.model=new app.SubCategoriaModel;var t=_.template(e("#add-subcategoria-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},tipo:function(){i.$modalComponent.find(".inner-title-modal").html("Tipo"),i.model=new app.TipoModel;var t=_.template(e("#add-tipo-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},modelo:function(){i.$modalComponent.find(".inner-title-modal").html("Modelo"),i.model=new app.ModeloModel;var t=_.template(e("#add-modelo-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},estado:function(){i.$modalComponent.find(".inner-title-modal").html("Estado"),i.model=new app.EstadoModel;var t=_.template(e("#add-estado-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},dano:function(){i.$modalComponent.find(".inner-title-modal").html("Dano"),i.model=new app.DanoModel;var t=_.template(e("#add-dano-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},tercero:function(){i.$modalComponent.find(".inner-title-modal").html("Tercero"),i.model=new app.TerceroModel;var t=_.template(e("#add-tercero-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON())),i.$formAccounting=i.$modalComponent.find("#form-accounting")},producto:function(){i.$modalComponent.find(".inner-title-modal").html("Producto"),i.model=new app.ProductoModel;var t=_.template(e("#add-producto-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},centrocosto:function(){i.$modalComponent.find(".inner-title-modal").html("Centros de costo"),i.model=new app.CentroCostoModel;var t=_.template(e("#add-centrocosto-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},grupo:function(){i.$modalComponent.find(".inner-title-modal").html("Grupo inventario"),i.model=new app.GrupoModel;var t=_.template(e("#add-grupo-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},subgrupo:function(){i.$modalComponent.find(".inner-title-modal").html("Subrupo inventario"),i.model=new app.SubGrupoModel;var t=_.template(e("#add-subgrupo-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},unidadmedida:function(){i.$modalComponent.find(".inner-title-modal").html("Unidad de medida"),i.model=new app.UnidadModel;var t=_.template(e("#add-unidad-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},unidadnegocio:function(){i.$modalComponent.find(".inner-title-modal").html("Unidad de negocio"),i.model=new app.UnidadNegocioModel;var t=_.template(e("#add-unidadnegocio-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))},folder:function(){i.$modalComponent.find(".inner-title-modal").html("Folder"),i.model=new app.FolderModel;var t=_.template(e("#add-folder-tpl").html());i.$modalComponent.find(".content-modal").html(t(i.model.toJSON()))}};o[this.resource]&&(o[this.resource](),this.$wraperError.hide().empty(),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.ready(),this.$modalComponent.modal("show"))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()},onStore:function(i){if(!i.isDefaultPrevented()){this.$wraperError.hide().empty(),i.preventDefault();var o=e.extend({},this.parameters,t.Misc.formToJson(i.target));"tercero"==this.resource&&(o=e.extend({},o,t.Misc.formToJson(this.$formAccounting))),this.model.save(o,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.$wraperContent);var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return this.$wraperError.empty().append(n),void this.$wraperError.show();var a=this,r={contacto:function(){a.$resourceField.val(a.model.get("id")),a.$resourceName.val(a.model.get("tcontacto_nombre")),a.$inputPhone.length&&a.$inputPhone.val(a.model.get("tcontacto_telefono")),a.$inputAddress.length&&a.$inputAddress.val(a.model.get("tcontacto_direccion")),a.$inputEmail.length&&a.$inputEmail.val(a.model.get("tcontacto_email")),a.$inputCity.length&&a.$inputCity.val(a.model.get("tcontacto_municipio")).trigger("change")},marca:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("marca_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},tipo:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("tipo_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},linea:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("linea_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},categoria:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("categoria_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},subcategoria:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("subcategoria_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},modelo:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("modelo_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},estado:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("estado_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},dano:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("dano_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},tercero:function(){a.$resourceField.val(a.model.get("tercero_nit")).trigger("change")},producto:function(){a.$resourceField.val(a.model.get("sirvea_codigo")).trigger("change")},centrocosto:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("centrocosto_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},grupo:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("grupo_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},subgrupo:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("subgrupo_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},unidadmedida:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("unidadmedida_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},unidadnegocio:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("unidadnegocio_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")},folder:function(){a.$resourceField.select2({data:[{id:a.model.get("id"),text:a.model.get("folder_nombre")}]}).trigger("change"),a.$resourceField.val(a.model.get("id")).trigger("change")}};r[this.resource]&&(r[this.resource](),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),this.$modalComponent.modal("hide"))}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentGlobalView=Backbone.View.extend({el:"body",events:{"click .sidebar-toggle":"clickSidebar"},initialize:function(){},clickSidebar:function(e){e.preventDefault();var t=new Date;t.setFullYear(t.getFullYear()+1),i.cookie="sidebar_toggle="+(this.$el.hasClass("sidebar-collapse")?"":"sidebar-collapse")+"; path=/; expires="+t.toUTCString()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.InventarioActionView=Backbone.View.extend({el:"body",templateAddSeries:_.template(e("#add-series-tpl").html()||""),templateSeriesLotes:_.template(e("#add-series-lotes-tpl").html()||""),templateAddItemRollo:_.template(e("#add-itemrollo-tpl").html()||""),templateChooseItemsRollo:_.template(e("#choose-itemrollo-tpl").html()||""),events:{"submit #form-create-inventario-entrada-component-source":"onStoreItemInventario"},parameters:{data:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$modalIn=this.$("#modal-inventario-component"),this.itemRolloINList=new app.ItemRolloINList,this.LotesProducto=new app.ProductoLote,this.productoSeriesINList=new app.ProductoSeriesINList,this.listenTo(this.LotesProducto,"reset",this.addAllProductoLote),this.listenTo(this.itemRolloINList,"reset",this.addAllItemRolloInventario),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.collection,"sync",this.responseServer)},render:function(){var e=this.parameters,t=this,i={modalSerie:function(){"E"==e.tipoAjuste?(t.$modalIn.find(".content-modal").empty().html(t.templateAddSeries()),t.$modalIn.find(".modal-title").text("Inventario, Entradas De Productos "),t.referenceSerie(e)):(t.$modalIn.find(".content-modal").empty().html(t.templateSeriesLotes()),t.$modalIn.find(".modal-title").text("Inventario, Salidas De Productos "),t.referenceSerie(e))},ProductoMetrado:function(){"E"==e.tipoAjuste?(t.$modalIn.find(".content-modal").empty().html(t.templateAddItemRollo()),t.$modalIn.find(".modal-title").text("Inventario, Entradas De Productos Metrados"),t.ReferenceMetrado(e)):(t.$modalIn.find(".content-modal").empty().html(t.templateChooseItemsRollo()),t.$modalIn.find(".modal-title").text("Inventario, Salidas De Productos Metrados"),t.ReferenceMetrado(e))},NoSerieNoMetros:function(){"E"==e.tipoAjuste?t.collection.trigger("store",e.data):(t.$modalIn.find(".content-modal").empty().html(t.templateSeriesLotes()),t.$modalIn.find(".modal-title").text("Inventario, Salidas De Productos "),t.referenceSerie(e))}};i[e.action]&&i[e.action]()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},referenceSerie:function(e){if(this.$wraper=this.$("#modal-wrapper-inventario"),this.$wraperFormIn=this.$modalIn.find(".content-modal"),this.$wraperDetailIn=this.$modalIn.find("#content-detail-inventory"),this.$wraperErrorIn=this.$("#error-inventario"),"E"==e.tipoAjuste){this.$wraperSeries=this.$("#browse-series-list");for(var t=1;t<=e.data.ajuste2_cantidad_entrada;t++)this.addOneSerieInventario(new app.ProductoModel({id:t}))}else this.$wraperSeries=this.$("#browse-series-lotes-list"),this.LotesProducto.fetch({reset:!0,data:{producto:e.data.ajuste2_producto,sucursal:e.data.sucursal}}),this.parameters.data.lote=this.LotesProducto;this.$wraperErrorIn.hide().empty(),this.$modalIn.modal("show")},ReferenceMetrado:function(e){if(this.$wraper=this.$("#modal-wrapper-inventario"),this.$wraperFormIn=this.$modalIn.find(".content-modal"),this.$wraperDetailIn=this.$modalIn.find("#content-detail-inventory"),this.$wraperErrorIn=this.$("#error-inventario"),"E"==e.tipoAjuste){this.$wraperItemRollo=this.$("#browse-itemtollo-list");for(var t=1;t<=e.data.ajuste2_cantidad_entrada;t++)this.addOneItemRolloInventario(new app.ItemRolloModel({id:t}))}else this.$wraperItemRollo=this.$("#browse-chooseitemtollo-list"),this.itemRolloINList.fetch({reset:!0,data:{producto:e.data.ajuste2_producto,sucursal:e.data.sucursal}});this.$wraperErrorIn.hide().empty(),this.$modalIn.modal("show")},addOneProductoLote:function(e){var t=new app.ProductoLotesINListView({model:e});this.$wraperSeries.append(t.render().el),this.ready()},addAllProductoLote:function(){var e=this;this.LotesProducto.forEach(function(t,i){e.addOneProductoLote(t)})},addOneSerieInventario:function(e){var t=new app.ProductoSeriesINListView({model:e});this.$wraperSeries.append(t.render().el),this.ready()},addAllItemRolloInventario:function(){var e=this;this.itemRolloINList.forEach(function(t,i){e.addOneItemRolloInventario(t,!0)})},addOneItemRolloInventario:function(e,t){t||(t=!1);var i=new app.ItemRolloINListView({model:e,parameters:{choose:t}});this.$wraperItemRollo.append(i.render().el),this.ready()},onStoreItemInventario:function(i){i.isDefaultPrevented()||(i.preventDefault(),this.parameters.data=e.extend({},this.parameters.data,t.Misc.formToJson(i.target)),this.collection.trigger("store",this.parameters.data))},responseServer:function(e,t,i){_.isUndefined(t.success)||t.success&&this.$modalIn.modal("hide")}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ItemRolloINListView=Backbone.View.extend({tagName:"tr",template:null,initialize:function(t){t.parameters.choose?this.template=_.template(e("#chooses-itemsrollos-tpl").html()||""):this.template=_.template(e("#add-itemsrollos-tpl").html()||""),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductoLotesINListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#exit-lotes-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentReporteView=Backbone.View.extend({el:"body",events:{"click .btn-export-pdf-koi-component":"onPdf","click .btn-export-xls-koi-component":"onXls"},initialize:function(){},onPdf:function(e){this.$("#type-reporte-koi-component").val("pdf")},onXls:function(e){this.$("#type-reporte-koi-component").val("xls")}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchCuentaView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-plancuenta-component-tpl").html()||""),events:{"change input.plancuenta-koi-component":"cuentaChanged","click .btn-koi-search-plancuenta-component":"searchCuenta","click .btn-search-koi-search-plancuenta-component":"search","click .btn-clear-koi-search-plancuenta-component":"clear","click .a-koi-search-plancuenta-component-table":"setCuenta"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchCuenta:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchCuenta=this.$("#koi_search_plancuentas_cuenta"),this.$searchName=this.$("#koi_search_plancuentas_nombre"),this.$plancuentasSearchTable=this.$modalComponent.find("#koi-search-plancuenta-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$inputCentro=this.$("#"+this.$inputContent.attr("data-centro")),this.$inputBase=this.$("#"+this.$inputContent.attr("data-base")),this.$inputValor=this.$("#"+this.$inputContent.attr("data-valor")),this.$inputTasa=this.$("#"+this.$inputContent.attr("data-tasa")),this.plancuentasSearchTable=this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentas.index")),data:function(e){e.plancuentas_cuenta=o.$searchCuenta.val(),e.plancuentas_nombre=o.$searchName.val()}},columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_tercero",name:"plancuentas_tercero"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-plancuenta-component-table">'+e+"</a>"}},{targets:1,width:"10%",searchable:!1},{targets:3,width:"10%",searchable:!1,render:function(e,t,i,o){return"D"==e?"Débito":"Crédito"}},{targets:4,width:"10%",searchable:!1,render:function(e,t,i,o){return e?"Si":"No"}}]}),this.ready(),this.$modalComponent.modal("show")},setCuenta:function(t){t.preventDefault();var i=this.plancuentasSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.plancuentas_cuenta),this.$inputName.val(i.plancuentas_nombre),this.$inputName.val(i.plancuentas_nombre),this.$inputCentro.length&&this.$inputCentro.val("").trigger("change"),this.$inputBase.length&&this.$inputBase.prop("readonly",!0),this.$modalComponent.modal("hide"),this.actions(i)},search:function(e){e.preventDefault(),this.plancuentasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasSearchTable.ajax.reload()},cuentaChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$inputBase=this.$("#"+e(i.currentTarget).attr("data-base")),this.$inputTasa=this.$("#"+e(i.currentTarget).attr("data-tasa")),this.$inputValor=this.$("#"+e(i.currentTarget).attr("data-valor")),this.$inputCentro=this.$("#"+e(i.currentTarget).attr("data-centro")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper"));var n=this.$inputContent.val();this.$inputName.val(""),this.$inputCentro.length&&this.$inputCentro.val("").trigger("change"),this.$inputBase.length&&this.$inputBase.prop("readonly",!0),this.$inputTasa.length&&this.$inputTasa.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("plancuentas.search")),type:"GET",data:{plancuentas_cuenta:n},beforeSend:function(){t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.plancuentas_nombre)||_.isNull(e.plancuentas_nombre)||o.$inputName.val(e.plancuentas_nombre),o.actions(e))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},actions:function(e){if(this.$inputBase.length)if(!_.isUndefined(e.plancuentas_tasa)&&!_.isNull(e.plancuentas_tasa)&&e.plancuentas_tasa>0){this.$inputBase.prop("readonly",!1);var t=this.$inputBase.inputmask("unmaskedvalue");this.$inputValor.val(e.plancuentas_tasa*t/100)}else this.$inputBase.val("");this.$inputCentro.length&&!_.isUndefined(e.plancuentas_centro)&&!_.isNull(e.plancuentas_centro)&&e.plancuentas_centro>0&&this.$inputCentro.val(e.plancuentas_centro).trigger("change"),this.$inputTasa.length&&(!_.isUndefined(e.plancuentas_tasa)&&!_.isNull(e.plancuentas_tasa)&&e.plancuentas_tasa>0?this.$inputTasa.val(e.plancuentas_tasa):this.$inputTasa.val(""))},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchProductoView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-producto-component-tpl").html()||""),events:{"change input.producto-koi-component":"productoChanged","click .btn-koi-search-producto-component":"searchProducto","click .btn-search-koi-search-producto-component":"search","click .btn-clear-koi-search-producto-component":"clear","click .a-koi-search-producto-component-table":"setProducto"},initialize:function(){this.$modalComponent=this.$("#modal-search-producto-component")},searchProducto:function(i){i.preventDefault();var o=this;return this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchReferencia=this.$("#koi_search_producto_referencia"),this.$searchSerie=this.$("#koi_search_producto_serie"),this.$searchNombre=this.$("#koi_search_producto_nombre"),this.$productosSearchTable=this.$modalComponent.find("#koi-search-producto-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$inputCosto=this.$("#"+this.$inputContent.attr("data-costo")),this.equalsRef=this.$inputContent.attr("data-ref"),"true"!=this.equalsRef&&"false"!=this.equalsRef||""!=this.$("#ajuste1_sucursal").val()?(this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(e){e.producto_serie=o.$searchSerie.val(),e.producto_nombre=o.$searchNombre.val(),e.producto_referencia=o.$searchReferencia.val(),e.equalsRef=o.equalsRef}},columns:[{data:"producto_referencia",name:"producto_referencia"},{data:"producto_serie",name:"producto_serie"},{data:"producto_nombre",name:"producto_nombre"}],columnDefs:[{targets:0,width:"10%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-producto-component-table">'+e+"</a>"}}]}),this.ready(),void this.$modalComponent.modal("show")):void alertify.error("Por favor ingrese sucursal antes agregar producto.")},setProducto:function(i){i.preventDefault();var o=this.productosSearchTable.row(e(i.currentTarget).parents("tr")).data();this.$inputContent.val(o.producto_serie),this.$inputName.val(o.producto_nombre),this.$inputCosto.val(t.Misc.currency(o.producto_costo)),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchSerie.val(""),this.$searchNombre.val(""),this.productosSearchTable.ajax.reload()},productoChanged:function(i){var o=this;if(this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$inputCosto=this.$("#"+e(i.currentTarget).attr("data-costo")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper")),this.equalsRef=this.$inputContent.attr("data-ref"),"true"==this.equalsRef&&""==this.$("#ajuste1_sucursal").val())return void alertify.error("Por favor ingrese sucursal antes agregar producto.");var n=this.$inputContent.val();this.$inputName.val(""),this.$inputCosto.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("productos.search")),type:"GET",data:{producto_serie:n},beforeSend:function(){o.$inputName.val(""),o.$inputCosto.val(""),t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.producto_nombre)||_.isNull(e.producto_nombre)||o.$inputName.val(e.producto_nombre),_.isUndefined(e.producto_costo)||_.isNull(e.producto_costo)||o.$inputCosto.val(t.Misc.currency(e.producto_costo)))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentSearchTerceroView=Backbone.View.extend({el:"body",template:_.template(e("#koi-search-tercero-component-tpl").html()||""),events:{"change input.tercero-koi-component":"terceroChanged","click .btn-koi-search-tercero-component-table":"searchTercero","click .btn-search-koi-search-tercero-component":"search","click .btn-clear-koi-search-tercero-component":"clear","click .a-koi-search-tercero-component-table":"setTercero"},initialize:function(){this.$modalComponent=this.$("#modal-search-component")},searchTercero:function(i){i.preventDefault();var o=this;this.$modalComponent.find(".content-modal").html(this.template({})),this.$searchNit=this.$("#koi_search_tercero_nit"),this.$searchName=this.$("#koi_search_tercero_nombre"),this.$tercerosSearchTable=this.$modalComponent.find("#koi-search-tercero-component-table"),this.$inputContent=this.$("#"+e(i.currentTarget).attr("data-field")),this.$inputName=this.$("#"+this.$inputContent.attr("data-name")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(e){e.tercero_nit=o.$searchNit.val(),e.tercero_nombre=o.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",searchable:!1,render:function(e,t,i,o){return'<a href="#" class="a-koi-search-tercero-component-table">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1,searchable:!1}]}),this.ready(),this.$modalComponent.modal("show")},setTercero:function(t){t.preventDefault();var i=this.tercerosSearchTable.row(e(t.currentTarget).parents("tr")).data();this.$inputContent.val(i.tercero_nit),this.$inputName.val(i.tercero_nombre),this.$btnContact.length>0&&this.$btnContact.attr("data-tercero",i.id),this.$modalComponent.modal("hide")},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()},terceroChanged:function(i){var o=this;this.$inputContent=e(i.currentTarget),this.$inputName=this.$("#"+e(i.currentTarget).attr("data-name")),this.$wraperConten=this.$("#"+e(i.currentTarget).attr("data-wrapper")),this.$btnContact=this.$("#"+this.$inputContent.attr("data-contacto")),this.$btnContact.length>0&&this.$btnContact.attr("data-tercero","");var n=this.$inputContent.val();this.$inputName.val(""),_.isUndefined(n)||_.isNull(n)||""==n||e.ajax({url:t.Misc.urlFull(Route.route("terceros.search")),type:"GET",data:{tercero_nit:n},beforeSend:function(){o.$inputName.val(""),t.Misc.setSpinner(o.$wraperConten)}}).done(function(e){t.Misc.removeSpinner(o.$wraperConten),e.success&&(_.isUndefined(e.tercero_nombre)||_.isNull(e.tercero_nombre)||o.$inputName.val(e.tercero_nombre),o.$btnContact.length>0&&o.$btnContact.attr("data-tercero",e.id))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperConten),alertify.error(n)})},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ProductoSeriesINListView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-serie-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ComponentTerceroView=Backbone.View.extend({el:"body",templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change .change-nit-koi-component":"nitChanged","change .change-actividad-koi-component":"actividadChanged"},initialize:function(){},nitChanged:function(i){var o=this;this.$dv=e("#"+e(i.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(o.$wraperContent),e.success&&o.$dv.val(e.dv)}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperContent),alertify.error(n)})},actividadChanged:function(i){var o=this;this.$retecree=e("#"+e(i.currentTarget).attr("data-field")),this.$wraperContent=this.$("#tercero-create"),this.$wraperContent.length||(this.$modalComponent=this.$("#modal-add-resource-component"),this.$wraperContent=this.$modalComponent.find(".modal-body")),e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.$wraperContent)}}).done(function(e){t.Misc.removeSpinner(o.$wraperContent),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||o.$retecree.html(e.rcree))}).fail(function(e,i,n){t.Misc.removeSpinner(o.$wraperContent),alertify.error(n)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainDepartamentoView=Backbone.View.extend({el:"#departamentos-main",initialize:function(){this.$departamentosSearchTable=this.$("#departamentos-search-table"),this.$departamentosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("departamentos.index")),columns:[{data:"departamento_codigo",name:"departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateDocumentosView=Backbone.View.extend({el:"#documentos-create",template:_.template(e("#add-documentos-tpl").html()||""),events:{"submit #form-documentos":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),
this.$wraperForm=this.$("#render-form-documentos"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("documento.show",{documento:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainDocumentoView=Backbone.View.extend({el:"#documento-main",initialize:function(){this.$documentoSearchTable=this.$("#documento-search-table"),this.$documentoSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("documento.index")),columns:[{data:"id",name:"id"},{data:"documentos_codigo",name:"documentos_codigo"},{data:"documentos_nombre",name:"documentos_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo documento',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("documento.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("documento.show",{documento:o.id}))+'">'+e+"</a>"}},{targets:1,width:"30%"}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateDocumentoView=Backbone.View.extend({el:"#documento-create",template:_.template(e("#add-documento-tpl").html()||""),events:{"submit #form-documento":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-documento"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("documentos.show",{documentos:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainDocumentosView=Backbone.View.extend({el:"#documentos-main",initialize:function(){this.$documentosSearchTable=this.$("#documentos-search-table"),this.$documentosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("documentos.index")),columns:[{data:"documento_codigo",name:"documento_codigo"},{data:"documento_nombre",name:"documento_nombre"},{data:"folder_codigo",name:"folder_codigo"},{data:"folder_id",name:"folder_id"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo documento',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("documentos.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("documentos.show",{documentos:o.id}))+'">'+e+"</a>"}},{targets:1,width:"70%"},{targets:2,width:"15%",render:function(e,i,o,n){return _.isNull(o.folder_codigo)||_.isUndefined(o.folder_codigo)?"":'<a href="'+t.Misc.urlFull(Route.route("folders.show",{folders:o.folder_id}))+'">'+e+"</a>"}},{targets:3,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateEmpresaView=Backbone.View.extend({el:"#empresa-create",template:_.template(e("#add-company-tpl").html()||""),templateName:_.template(e("#tercero-name-tpl").html()||""),events:{"change input#tercero_nit":"nitChanged","change select#tercero_persona":"personaChanged","change select#tercero_actividad":"actividadChanged","submit #form-create-empresa":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-empresa"),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:tercero_persona",this.renderName),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$dv=this.$("#tercero_digito"),this.$retecree=this.$("#tercero_retecree"),this.ready()},renderName:function(e,t,i){this.$("#content-render-name").html(this.templateName(this.model.toJSON())),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},nitChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("terceros.dv")),type:"GET",data:{tercero_nit:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&o.$dv.val(e.dv)}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},personaChanged:function(t){this.model.set({tercero_persona:e(t.currentTarget).val()})},actividadChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("terceros.rcree")),type:"GET",data:{tercero_actividad:e(i.currentTarget).val()},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&(_.isUndefined(e.rcree)||_.isNull(e.rcree)||o.$retecree.html(e.rcree))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);alertify.success("Empresa fue actualizada con éxito.")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateFolderView=Backbone.View.extend({el:"#folder-create",template:_.template(e("#add-folder-tpl").html()||""),events:{"submit #form-folder":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-folder"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("folders.show",{folders:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainFoldersView=Backbone.View.extend({el:"#folders-main",initialize:function(){this.$foldersSearchTable=this.$("#folders-search-table"),this.$foldersSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("folders.index")),columns:[{data:"folder_codigo",name:"folder_codigo"},{data:"folder_nombre",name:"folder_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Agregar Folder',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("folders.create")))}}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("folders.show",{folders:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateImpuestoView=Backbone.View.extend({el:"#impuesto-create",template:_.template(e("#add-impuesto-tpl").html()||""),events:{"submit #form-impuesto":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-impuesto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSpinner&&t.initComponent.initSpinner()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("impuestos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainImpuestosView=Backbone.View.extend({el:"#impuestos-main",initialize:function(){this.$impuestosSearchTable=this.$("#impuestos-search-table"),this.$impuestosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("impuestos.index")),columns:[{data:"id",name:"id"},{data:"impuesto_nombre",name:"impuesto_nombre"},{data:"impuesto_activo",name:"impuesto_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva impuesto',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("impuestos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("impuestos.show",{impuestos:o.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateLineaView=Backbone.View.extend({el:"#lineas-create",template:_.template(e("#add-linea-tpl").html()||""),events:{"submit #form-linea":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-linea"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("lineas.show",{lineas:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainLineasView=Backbone.View.extend({el:"#lineas-main",initialize:function(){this.$lineasSearchTable=this.$("#lineas-search-table"),this.$lineasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("lineas.index")),columns:[{data:"id",name:"id"},{data:"linea_nombre",name:"linea_nombre"},{data:"linea_activo",name:"linea_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva linea',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("lineas.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("lineas.show",{lineas:o.id}))+'">'+e+"</a>"}},{targets:2,width:"30%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.UserLoginView=Backbone.View.extend({el:"#login-box",initialize:function(){this.$loginForm=e("#form-login-account"),this.$loginForm.validator()},render:function(){}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateMarcaView=Backbone.View.extend({el:"#marca-create",template:_.template(e("#add-marca-tpl").html()||""),events:{"submit #form-marca":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-marca"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("marcas.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainMarcasView=Backbone.View.extend({el:"#marcas-main",initialize:function(){this.$marcasSearchTable=this.$("#marcas-search-table"),this.$marcasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("marcas.index")),columns:[{data:"id",name:"id"},{data:"marca_nombre",name:"marca_nombre"},{data:"marca_activo",name:"marca_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva marca',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("marcas.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("marcas.show",{marcas:o.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateModeloView=Backbone.View.extend({el:"#modelo-create",template:_.template(e("#add-modelo-tpl").html()||""),events:{"submit #form-modelo":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-modelo"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("modelos.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainModelosView=Backbone.View.extend({el:"#modelos-main",initialize:function(){this.$modelosSearchTable=this.$("#modelos-search-table"),this.$modelosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("modelos.index")),columns:[{data:"id",name:"id"},{data:"modelo_nombre",name:"modelo_nombre"},{data:"modelo_activo",name:"modelo_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nuevo Modelo',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("modelos.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("modelos.show",{modelos:o.id}))+'">'+e+"</a>"}},{targets:[2],width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainMunicipioView=Backbone.View.extend({el:"#municipios-main",initialize:function(){this.$municipiosSearchTable=this.$("#municipios-search-table"),this.$municipiosSearchTable.DataTable({processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("municipios.index")),columns:[{data:"departamento_codigo",name:"departamento.departamento_codigo"},{data:"departamento_nombre",name:"departamento_nombre"},{data:"municipio_codigo",name:"municipio_codigo"},{data:"municipio_nombre",name:"municipio_nombre"},{data:"departamento_id",name:"departamento_id"}],columnDefs:[{targets:0,width:"15%"},{targets:1,width:"35%"},{targets:2,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("departamentos.show",{departamentos:o.departamento_id}))+'">'+e+"</a>"}},{targets:3,width:"35%"},{targets:4,visible:!1,searchable:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePedidoView=Backbone.View.extend({el:"#pedido-create",template:_.template(e("#add-pedido-tpl").html()||""),events:{"submit #form-pedido":"onStore"},parameters:{},initialize:function(){this.$wraperForm=this.$("#render-form-pedido"),this.detallePedido=new app.DetallePedidoCollection,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!1,this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-pedido"),this.$formItem=this.$("#form-detalle-pedido"),this.referenceViews(),this.ready()},referenceViews:function(){this.detallePedidosView=new app.DetallePedidosView({collection:this.detallePedido,parameters:{edit:!0,wrapper:this.el,dataFilter:{pedido_id:this.model.get("id")}}})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);i.pedido_id=this.model.get("id"),this.model.save(i,{patch:!0,silent:!0})}},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.editPedidoView instanceof Backbone.View&&(this.editPedidoView.stopListening(),this.editPedidoView.undelegateEvents()),Backbone.history.navigate(Route.route("pedidos.edit",{pedidos:i.pedido_id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetallePedidoItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#add-pedidodetalle-item-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.DetallePedidosView=Backbone.View.extend({el:"#browse-detalle-pedido-list",events:{"click .item-detallepedido-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.confCollection={reset:!0,data:{}},this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),_.isUndefined(this.parameters.dataFilter.pedido_id)||_.isNull(this.parameters.dataFilter.pedido_id)||(this.confCollection.data.pedido_id=this.parameters.dataFilter.pedido_id,this.collection.fetch(this.confCollection))},render:function(){},addOne:function(e){var t=new app.DetallePedidoItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.pedido2_pedido1=this.parameters.dataFilter.pedido_id;var o=new app.PedidoDetalleModel;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),a=this;n instanceof Backbone.Model&&n.destroy({success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(a.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.EditPedidoView=Backbone.View.extend({el:"#pedido-create",template:_.template(e("#add-pedido-tpl").html()||""),events:{"click .submit-pedido":"submitPedido","click .close-pedido":"closePedido","click .cancel-pedido":"cancelPedido","submit #form-pedido":"onStore","submit #form-detalle-pedido":"onStoreDetalle"},parameters:{},initialize:function(){this.$wraperForm=this.$("#render-form-pedido"),this.detallePedido=new app.DetallePedidoCollection,this.bitacora=new app.BitacoraCollection,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();e.edit=!0,this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-pedido"),this.$formItem=this.$("#form-detalle-pedido"),this.referenceViews(),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},referenceViews:function(){this.detallePedidosView=new app.DetallePedidosView({collection:this.detallePedido,parameters:{edit:!0,wrapper:this.el,dataFilter:{pedido_id:this.model.get("id")}}}),this.bitacoraView=new app.BitacoraView({collection:this.bitacora,parameters:{edit:!0,wrapper:this.el,dataFilter:{document_id:this.model.get("id"),document_type:this.model.get("pedido1_documentos")}}})},submitPedido:function(e){this.$form.submit()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},onStoreDetalle:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.detallePedido.trigger("store",i)}},closePedido:function(i){i.preventDefault();var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{id_pedido:o.model.get("id")},template:_.template(e("#pedido-close-confirm-tpl").html()||""),titleConfirm:"Cerrar Pedido",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("pedidos.cerrar",{pedidos:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(t.Misc.removeSpinner(o.el),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("pedidos.show",{pedidos:o.model.get("id")})))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}}});n.render()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("pedidos.edit",{pedidos:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPedidosView=Backbone.View.extend({el:"#pedido-main",events:{},initialize:function(){this.$productosSearchTable=this.$("#pedido-search-table"),this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("pedidos.index")),columns:[{data:"pedido1_numero",name:"pedido1_numero"},{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"pedido1_fecha",name:"pedido1_fecha"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_nombre2",name:"tercero_apellido1"},{data:"tercero_nombre2",name:"tercero_apellido2"},{data:"tercero_nit",name:"tercero_nit"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo Pedido',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("pedidos.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,i,o,n){return o.pedido1_cerrado||o.pedido1_anulado?'<a href="'+t.Misc.urlFull(Route.route("pedidos.show",{pedidos:o.id}))+'">'+e+' <span class="label label-warning"> Ver</span></a>':'<a href="'+t.Misc.urlFull(Route.route("pedidos.edit",{pedidos:o.id}))+'">'+e+' <span class="label label-success"> Abierto</span></a>'}},{targets:2,searchable:!1},{targets:[4,5,6,7,8],visible:!1}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowPedidoView=Backbone.View.extend({el:"#pedido-show",template:_.template(e("#show-pedido-tpl").html()||""),events:{"click .cancel-pedido":"cancelPedido"},initialize:function(){this.$wraperForm=this.$("#render-pedido-show"),this.model.id!=o&&(this.detallePedido=new app.DetallePedidoCollection,this.bitacora=new app.BitacoraCollection),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.referenceViews(),this.ready()},referenceViews:function(){this.detallePedidosView=new app.DetallePedidosView({collection:this.detallePedido,parameters:{edit:!1,wrapper:this.el,dataFilter:{pedido_id:this.model.get("id")}}}),this.bitacoraView=new app.BitacoraView({collection:this.bitacora,parameters:{edit:!0,wrapper:this.el,dataFilter:{document_id:this.model.get("id"),document_type:this.model.get("pedido1_documentos")}}})},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator(),"function"==typeof t.initComponent.initDatePicker&&t.initComponent.initDatePicker()},cancelPedido:function(i){i.preventDefault();var o=this,n=new t.app.ConfirmWindow({parameters:{dataFilter:{id_pedido:o.model.get("id")},template:_.template(e("#pedido-cancel-confirm-tpl").html()||""),titleConfirm:"Anular Pedido",onConfirm:function(){e.ajax({url:t.Misc.urlFull(Route.route("pedidos.anular",{pedidos:o.model.get("id")})),type:"GET",beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(t.Misc.removeSpinner(o.el),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);t.Misc.successRedirect(e.msg,t.Misc.urlFull(Route.route("pedidos.index")))}}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}}});n.render()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n)}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePlanCuentaView=Backbone.View.extend({el:"#plancuentas-create",template:_.template(e("#add-plancuentas-tpl").html()||""),events:{
"change input#plancuentas_cuenta":"cuentaChanged","submit #form-plancuentas":"onStore"},initialize:function(){this.$wraperForm=this.$("#render-form-plancuentas"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$nivel=this.$("#plancuentas_nivel"),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},cuentaChanged:function(i){var o=this;e.ajax({url:t.Misc.urlFull(Route.route("plancuentas.nivel")),type:"GET",data:{plancuentas_cuenta:e(i.currentTarget).val()},beforeSend:function(){o.$nivel.val(""),t.Misc.setSpinner(o.el)}}).done(function(e){t.Misc.removeSpinner(o.el),e.success&&((_.isUndefined(e.nivel)||_.isNull(e.nivel)||!_.isNumber(e.nivel))&&alertify.error("Ocurrió un error definiendo el nivel de la cuenta, por favor verifique el número de caracteres."),o.$nivel.val(e.nivel))}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPlanCuentasView=Backbone.View.extend({el:"#plancuentas-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$plancuentasSearchTable=this.$("#plancuentas-search-table"),this.$searchCuenta=this.$("#plancuentas_cuenta"),this.$searchName=this.$("#plancuentas_nombre"),this.plancuentasSearchTable=this.$plancuentasSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("plancuentas.index")),data:function(t){t.persistent=!0,t.plancuentas_cuenta=e.$searchCuenta.val(),t.plancuentas_nombre=e.$searchName.val()}},columns:[{data:"plancuentas_cuenta",name:"plancuentas_cuenta"},{data:"plancuentas_nivel",name:"plancuentas_nivel"},{data:"plancuentas_nombre",name:"plancuentas_nombre"},{data:"plancuentas_naturaleza",name:"plancuentas_naturaleza"},{data:"plancuentas_tercero",name:"plancuentas_tercero"}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("plancuentas.show",{plancuentas:o.id}))+'">'+e+"</a>"}},{targets:1,width:"10%"},{targets:3,width:"10%",render:function(e,t,i,o){return"D"==parseInt(e)?"Débito":"Crédito"}},{targets:4,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})},search:function(e){e.preventDefault(),this.plancuentasSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchCuenta.val(""),this.$searchName.val(""),this.plancuentasSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPresupuestoAsesorView=Backbone.View.extend({el:"#presupuestoasesor-create",template:_.template(e("#add-presupuesto-tpl").html()||""),events:{"change .change-asesor":"changeAsesor","submit #form-presupuestoasesor":"onStore","change .change-input-presupuesto":"changePresupuesto"},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-div-asesor"),this.$asesor=this.$("#presupuestoasesor_asesor"),this.$ano=this.$("#presupuestoasesor_ano"),this.meses={},this.subcategorias={}},ready:function(){"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},changePresupuesto:function(t){var i=e(t.currentTarget).attr("data-mes"),o=e(t.currentTarget).attr("data-subcategoria");this.totalCategoria(o),this.totalMes(i)},totalCategoria:function(e){var i=0;_.each(this.meses,function(t,o){i+=parseFloat(this.$("#presupuestoasesor_valor_"+e+"_"+o).inputmask("unmaskedvalue"))}),this.$("#presupuestoasesor_total_subcategoria_"+e).html(t.Misc.currency(i))},totalMes:function(e){var i=0;_.each(this.subcategorias,function(t){i+=parseFloat(this.$("#presupuestoasesor_valor_"+t.id+"_"+e).inputmask("unmaskedvalue"))}),this.$("#presupuestoasesor_total_mes_"+e).html(t.Misc.currency(i))},onStore:function(i){var o=this;if(!i.isDefaultPrevented()){i.preventDefault();var n=t.Misc.formToJson(i.target);e.ajax({type:"POST",dataType:"json",url:t.Misc.urlFull(Route.route("presupuestoasesor.store")),data:n,beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(t.Misc.removeSpinner(o.el),e.success)return void alertify.success(e.message);if(!_.isObject(e.errors))return void alertify.error(JSON.stringify(e.errors));var i=t.Misc.parseErrors(e.errors);return void alertify.error(i)}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}},changeAsesor:function(i){var o=this;e.ajax({type:"GET",dataType:"json",url:t.Misc.urlFull(Route.route("presupuestoasesor.index")),data:{presupuestoasesor_asesor:o.$asesor.val(),presupuestoasesor_ano:o.$ano.val()},beforeSend:function(){t.Misc.setSpinner(o.el)}}).done(function(e){if(t.Misc.removeSpinner(o.el),!e.success){var i=t.Misc.parseErrors(e.errors);return void alertify.error(i)}o.meses=e.meses,o.subcategorias=e.subcategorias,o.$wraperForm.html(o.template(e)),o.ready()}).fail(function(e,i,n){t.Misc.removeSpinner(o.el),alertify.error(n)})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateProductoView=Backbone.View.extend({el:"#productos-create",template:_.template(e("#add-producto-tpl").html()||""),events:{"ifChecked #producto_maneja_serie":"serieChange","ifChecked #producto_metrado":"metradoChange","submit #form-productos":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-producto"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$inputSerie=this.$("#producto_maneja_serie"),this.$inputMetrado=this.$("#producto_metrado"),this.ready()},serieChange:function(t){var i=e(t.target).is(":checked");i&&this.$inputMetrado.iCheck("uncheck")},metradoChange:function(t){var i=e(t.target).is(":checked");i&&this.$inputSerie.iCheck("uncheck")},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("productos.show",{productos:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainProductosView=Backbone.View.extend({el:"#productos-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$productosSearchTable=this.$("#productos-search-table"),this.$searchSerie=this.$("#producto_serie"),this.$searchName=this.$("#producto_nombre"),this.productosSearchTable=this.$productosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("productos.index")),data:function(t){t.persistent=!0,t.producto_serie=e.$searchSerie.val(),t.producto_nombre=e.$searchName.val()}},columns:[{data:"producto_serie",name:"producto_serie"},{data:"producto_referencia",name:"producto_referencia"},{data:"producto_nombre",name:"producto_nombre"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo producto',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("productos.create")))}}],columnDefs:[{targets:0,width:"25%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("productos.show",{productos:o.id}))+'">'+e+"</a>"}}]})},search:function(e){e.preventDefault(),this.productosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchSerie.val(""),this.$searchName.val(""),this.productosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreatePuntoventaView=Backbone.View.extend({el:"#puntosventa-create",template:_.template(e("#add-puntoventa-tpl").html()||""),events:{"submit #form-puntosventa":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-puntosventa"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("puntosventa.show",{puntosventa:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainPuntoventaView=Backbone.View.extend({el:"#puntosventa-main",initialize:function(){this.$puntosventaSearchTable=this.$("#puntosventa-search-table"),this.$puntosventaSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("puntosventa.index")),columns:[{data:"puntoventa_nombre",name:"puntoventa_nombre"},{data:"puntoventa_prefijo",name:"puntoventa_prefijo"},{data:"puntoventa_resolucion_dian",name:"puntoventa_resolucion_dian"},{data:"puntoventa_numero",name:"puntoventa_numero"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo punto de venta',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("puntosventa.create")))}}],columnDefs:[{targets:0,render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("puntosventa.show",{puntosventa:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateRegionalView=Backbone.View.extend({el:"#regional-create",template:_.template(e("#add-regional-tpl").html()||""),events:{"submit #form-regional":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-regional"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("regionales.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainRegionalesView=Backbone.View.extend({el:"#regionales-main",initialize:function(){this.$regionalesSearchTable=this.$("#regionales-search-table"),this.$regionalesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("regionales.index")),columns:[{data:"id",name:"id"},{data:"regional_nombre",name:"regional_nombre"},{data:"regional_activo",name:"regional_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva regional',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("regionales.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("regionales.show",{regionales:o.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateSubCategoriaView=Backbone.View.extend({el:"#subcategoria-create",template:_.template(e("#add-subcategoria-tpl").html()||""),events:{"submit #form-subcategoria":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-subcategoria"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("subcategorias.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainSubCategoriasView=Backbone.View.extend({el:"#subcategorias-main",initialize:function(){this.$marcasSearchTable=this.$("#subcategorias-search-table"),this.$marcasSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("subcategorias.index")),columns:[{data:"id",name:"id"},{data:"subcategoria_nombre",name:"subcategoria_nombre"},{data:"subcategoria_activo",name:"subcategoria_activo"}],buttons:[{text:'<i class="fa fa-plus"></i> Nueva subcategoria',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("subcategorias.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("subcategorias.show",{subcategorias:o.id}))+'">'+e+"</a>"}},{targets:2,width:"10%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateSucursalView=Backbone.View.extend({el:"#sucursales-create",template:_.template(e("#add-sucursal-tpl").html()||""),events:{"submit #form-sucursales":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-sucursal"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.show",{sucursales:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainSucursalesView=Backbone.View.extend({el:"#sucursales-main",initialize:function(){this.$sucursalesSearchTable=this.$("#sucursales-search-table"),this.$sucursalesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("sucursales.index")),columns:[{data:"sucursal_nombre",name:"sucursal_nombre"},{data:"sucursal_direccion",name:"sucursal_direccion"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nueva sucursal',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("sucursales.create")))}}],columnDefs:[{targets:0,render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("sucursales.show",{sucursales:o.id}))+'">'+e+"</a>"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ContactItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#contact-item-list-tpl").html()||""),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ContactsListView=Backbone.View.extend({el:"#browse-contact-list",events:{"click .btn-edit-tcontacto":"editOne"},parameters:{dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"sync",this.responseServer),this.on("createOne",this.createOne,this),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.ContactItemView({model:e});this.$el.append(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},editOne:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-resource"),o=this.collection.get(i);this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:o}),this.createTContactoView.render()},createOne:function(e){var t=this;this.createTContactoView instanceof Backbone.View&&(this.createTContactoView.stopListening(),this.createTContactoView.undelegateEvents()),this.createTContactoView=new app.CreateTContactoView({model:new app.ContactoModel,collection:t.collection,parameters:{tercero_id:e}}),this.createTContactoView.render()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.el)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTerceroView=Backbone.View.extend({el:"#tercero-create",template:_.template(e("#add-tercero-tpl").html()||""),events:{"submit #form-tercero":"onStore","submit #form-item-roles":"onStoreRol","submit #form-changed-password":"onStorePassword","ifChanged .change_employee":"changedEmployee","ifChanged #tercero_tecnico":"changedTechnical","click .btn-add-tcontacto":"addContacto"},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.msgSuccess="Tercero guardado con exito!",this.$wraperForm=this.$("#render-form-tercero"),this.model.id!=o&&(this.contactsList=new app.ContactsList,this.rolList=new app.RolList),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.$form=this.$("#form-tercero"),this.$formAccounting=this.$("#form-accounting"),this.$formEmployee=this.$("#form-employee"),this.$checkEmployee=this.$("#tercero_empleado"),this.$checkInternal=this.$("#tercero_interno"),this.$username=this.$("#username"),this.$password=this.$("#password"),this.$password_confirmation=this.$("#password_confirmation"),this.$wrapperEmployes=this.$("#wrapper-empleados"),this.$wrapperCoordinador=this.$("#wrapper-coordinador"),this.model.id!=o&&this.referenceViews(),this.ready()},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{edit:!0,wrapper:this.$("#wrapper-tcontacto"),dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!0,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}})},onStore:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var o=e.extend({},t.Misc.formToJson(i.target),t.Misc.formToJson(this.$formAccounting),t.Misc.formToJson(this.$formEmployee));this.model.save(o,{patch:!0,silent:!0})}},onStoreRol:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.rolList.trigger("store",i)}},addContacto:function(){this.contactsListView.trigger("createOne",this.model.get("id"))},changedTechnical:function(t){var i=e(t.target).is(":checked");i?this.$wrapperCoordinador.removeClass("hide"):this.$wrapperCoordinador.addClass("hide")},changedEmployee:function(e){this.$checkInternal.is(":checked")||this.$checkEmployee.is(":checked")?this.$wrapperEmployes.removeClass("hide"):this.$wrapperEmployes.addClass("hide")},onStorePassword:function(i){var o=this;if(!i.isDefaultPrevented()){i.preventDefault();var n=t.Misc.formToJson(i.target);n.id=this.model.get("id"),e.ajax({type:"POST",url:t.Misc.urlFull(Route.route("terceros.setpassword")),data:n,beforeSend:function(){t.Misc.setSpinner(o.$("#wrapper-password"))}}).done(function(e){if(t.Misc.removeSpinner(o.el),!_.isUndefined(e.success)){var i=e.success?"":e.errors;if(_.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),!e.success)return void alertify.error(i);alertify.success(e.message)}}).fail(function(e,i,n){t.Misc.removeSpinner(o.$("#wrapper-password")),alertify.error(n)})}},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck(),"function"==typeof t.initComponent.initValidator&&t.initComponent.initValidator()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),Backbone.history.navigate(Route.route("terceros.edit",{terceros:i.id}),{trigger:!0})}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTContactoView=Backbone.View.extend({el:"body",template:_.template(e("#add-contacto-tpl").html()||""),events:{"submit #form-tcontacto-component":"onStore"},parameters:{tercero_id:null},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner),this.$modalComponent=this.$("#modal-tcontacto-component")},render:function(){var e=this.model.toJSON();return this.$modalComponent.find(".content-modal").html("").html(this.template(e)),this.$wraperContent=this.$("#content-tcontacto-component").find(".modal-body"),this.ready(),this.$modalComponent.modal("show"),this},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initInputMask&&t.initComponent.initInputMask(),"function"==typeof t.initComponent.initSelect2&&t.initComponent.initSelect2()},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);_.isUndefined(this.parameters.tercero_id)||_.isNull(this.parameters.tercero_id)||""==this.parameters.tercero_id||(i.tcontacto_tercero=this.parameters.tercero_id),this.model.save(i,{patch:!0})}},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.$wraperContent)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.$wraperContent),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);this.collection instanceof Backbone.Collection&&this.collection.add(e),this.$modalComponent.modal("hide")}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTerceroView=Backbone.View.extend({el:"#terceros-main",events:{"click .btn-search":"search","click .btn-clear":"clear"},initialize:function(){var e=this;this.$tercerosSearchTable=this.$("#terceros-search-table"),this.$searchNit=this.$("#tercero_nit"),this.$searchName=this.$("#tercero_nombre"),this.tercerosSearchTable=this.$tercerosSearchTable.DataTable({dom:"<'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:{url:t.Misc.urlFull(Route.route("terceros.index")),data:function(t){t.persistent=!0,t.tercero_nit=e.$searchNit.val(),t.tercero_nombre=e.$searchName.val()}},columns:[{data:"tercero_nit",name:"tercero_nit"},{data:"tercero_nombre",name:"tercero_nombre"},{data:"tercero_razonsocial",name:"tercero_razonsocial"},{data:"tercero_nombre1",name:"tercero_nombre1"},{data:"tercero_nombre2",name:"tercero_nombre2"},{data:"tercero_apellido1",name:"tercero_apellido1"},{data:"tercero_apellido2",name:"tercero_apellido2"}],columnDefs:[{targets:0,width:"15%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("terceros.show",{terceros:o.id}))+'">'+e+"</a>"}},{targets:1,width:"85%",searchable:!1},{targets:[2,3,4,5,6],visible:!1}]})},search:function(e){e.preventDefault(),this.tercerosSearchTable.ajax.reload()},clear:function(e){e.preventDefault(),this.$searchNit.val(""),this.$searchName.val(""),this.tercerosSearchTable.ajax.reload()}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.RolesListView=Backbone.View.extend({el:"#browse-roles-list",events:{"click .item-roles-remove":"removeOne"},parameters:{wrapper:null,edit:!1,dataFilter:{}},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"request",this.loadSpinner),this.listenTo(this.collection,"store",this.storeOne),this.listenTo(this.collection,"sync",this.responseServer),this.collection.fetch({data:{tercero_id:this.parameters.dataFilter.tercero_id},reset:!0})},render:function(){},addOne:function(e){var t=new app.RolItemView({model:e,parameters:{edit:this.parameters.edit}});e.view=t,this.$el.prepend(t.render().el)},addAll:function(){this.collection.forEach(this.addOne,this)},storeOne:function(e){var i=this;t.Misc.setSpinner(this.parameters.wrapper),e.user_id=this.parameters.dataFilter.tercero_id;var o=new app.UsuarioRolModel;o.save(e,{success:function(e,o){if(!_.isUndefined(o.success)){t.Misc.removeSpinner(i.parameters.wrapper);var n=o.success?"":o.errors;if(_.isObject(o.errors)&&(n=t.Misc.parseErrors(o.errors)),!o.success)return void alertify.error(n);i.collection.add(e)}},error:function(e,o){t.Misc.removeSpinner(i.parameters.wrapper),alertify.error(o.statusText)}})},removeOne:function(i){i.preventDefault();var o=e(i.currentTarget).attr("data-resource"),n=this.collection.get(o),a=this;n instanceof Backbone.Model&&n.destroy({data:{user_id:this.parameters.dataFilter.tercero_id},processData:!0,success:function(e,i){if(!_.isUndefined(i.success)){if(t.Misc.removeSpinner(a.parameters.wrapper),!i.success)return void alertify.error(i.errors);e.view.remove()}}})},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.parameters.wrapper)},responseServer:function(e,i,o){t.Misc.removeSpinner(this.parameters.wrapper)}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.RolItemView=Backbone.View.extend({tagName:"tr",template:_.template(e("#roles-item-list-tpl").html()||""),parameters:{edit:!1},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.toJSON();return e.edit=this.parameters.edit,this.$el.html(this.template(e)),this}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.ShowTerceroView=Backbone.View.extend({el:"#terceros-main",initialize:function(){this.model.id!=o&&(this.contactsList=new app.ContactsList,this.rolList=new app.RolList,this.referenceViews())},referenceViews:function(){this.contactsListView=new app.ContactsListView({collection:this.contactsList,parameters:{dataFilter:{tercero_id:this.model.get("id")}}}),this.rolesListView=new app.RolesListView({collection:this.rolList,parameters:{edit:!1,wrapper:this.$("#wrapper-roles"),dataFilter:{tercero_id:this.model.get("id")}}})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTipoActividadView=Backbone.View.extend({el:"#tiposactividad-create",template:_.template(e("#add-tipoactividad-tpl").html()||""),events:{"submit #form-tiposactividad":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipoactividad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),
"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("tiposactividad.show",{tiposactividad:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTipoActividadView=Backbone.View.extend({el:"#tiposactividad-main",initialize:function(){this.$tiposactividadSearchTable=this.$("#tiposactividad-search-table"),this.$tiposactividadSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tiposactividad.index")),columns:[{data:"tipoactividad_nombre",name:"tipoactividad_nombre"},{data:"tipoactividad_activo",name:"tipoactividad_activo"},{data:"tipoactividad_comercial",name:"tipoactividad_comercial"},{data:"tipoactividad_tecnico",name:"tipoactividad_tecnico"},{data:"tipoactividad_cartera",name:"tipoactividad_cartera"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo tipo de actividad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("tiposactividad.create")))}}],columnDefs:[{targets:0,width:"40%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("tiposactividad.show",{tiposactividad:o.id}))+'">'+e+"</a>"}},{targets:[1,2,3,4],width:"15%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateTipoAjusteView=Backbone.View.extend({el:"#tipoajuste-create",template:_.template(e("#add-tipoajuste-tpl").html()||""),events:{"submit #form-tipoajuste":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-tipoajuste"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("tiposajuste.show",{tiposajuste:i.id})))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainTipoAjusteView=Backbone.View.extend({el:"#tiposajuste-main",initialize:function(){this.$tiposajusteSearchTable=this.$("#tiposajuste-search-table"),this.$tiposajusteSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("tiposajuste.index")),columns:[{data:"tipoajuste_sigla",name:"tipoajuste_sigla"},{data:"tipoajuste_nombre",name:"tipoajuste_nombre"},{data:"tipoajuste_tipo",name:"tipoajuste_tipo"},{data:"tipoajuste_activo",name:"tipoajuste_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo tipo ajuste',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("tiposajuste.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("tiposajuste.show",{tiposajuste:o.id}))+'">'+e+"</a>"}},{targets:[3],width:"15%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateUnidadView=Backbone.View.extend({el:"#unidades-create",template:_.template(e("#add-unidad-tpl").html()||""),events:{"submit #form-unidades":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-unidad"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("unidades.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainUnidadesView=Backbone.View.extend({el:"#unidades-main",initialize:function(){this.$unidadesSearchTable=this.$("#unidades-search-table"),this.$unidadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("unidades.index")),columns:[{data:"unidadmedida_sigla",name:"unidadmedida_sigla"},{data:"unidadmedida_nombre",name:"unidadmedida_nombre"},{data:"unidad_medida_activo",name:"unidad_medida_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo unidad',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("unidades.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("unidades.show",{unidades:o.id}))+'">'+e+"</a>"}},{targets:2,width:"15%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.CreateUnidadNegocioView=Backbone.View.extend({el:"#unidadesnegocio-create",template:_.template(e("#add-unidadnegocio-tpl").html()||""),events:{"submit #form-unidadesnegocio":"onStore"},parameters:{},initialize:function(t){t!==o&&_.isObject(t.parameters)&&(this.parameters=e.extend({},this.parameters,t.parameters)),this.$wraperForm=this.$("#render-form-unidadnegocio"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.responseServer),this.listenTo(this.model,"request",this.loadSpinner)},onStore:function(e){if(!e.isDefaultPrevented()){e.preventDefault();var i=t.Misc.formToJson(e.target);this.model.save(i,{patch:!0,silent:!0})}},render:function(){var e=this.model.toJSON();this.$wraperForm.html(this.template(e)),this.ready()},ready:function(){"function"==typeof t.initComponent.initToUpper&&t.initComponent.initToUpper(),"function"==typeof t.initComponent.initICheck&&t.initComponent.initICheck()},loadSpinner:function(e,i,o){t.Misc.setSpinner(this.el)},responseServer:function(e,i,o){if(t.Misc.removeSpinner(this.el),!_.isUndefined(i.success)){var n=i.success?"":i.errors;if(_.isObject(i.errors)&&(n=t.Misc.parseErrors(i.errors)),!i.success)return void alertify.error(n);t.Misc.redirect(t.Misc.urlFull(Route.route("unidadesnegocio.index")))}}})}(jQuery,this,this.document),app||(app={}),function(e,t,i,o){app.MainUnidadesNegocioView=Backbone.View.extend({el:"#unidadesnegocio-main",initialize:function(){this.$unidadesSearchTable=this.$("#unidadesnegocio-search-table"),this.$unidadesSearchTable.DataTable({dom:"<'row'<'col-sm-4'B><'col-sm-4 text-center'l><'col-sm-4'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",processing:!0,serverSide:!0,language:t.Misc.dataTableES(),ajax:t.Misc.urlFull(Route.route("unidadesnegocio.index")),columns:[{data:"id",name:"id"},{data:"unidadnegocio_nombre",name:"unidadnegocio_nombre"},{data:"unidadnegocio_activo",name:"unidadnegocio_activo"}],buttons:[{text:'<i class="fa fa-user-plus"></i> Nuevo unidad negocio',className:"btn-sm",action:function(e,i,o,n){t.Misc.redirect(t.Misc.urlFull(Route.route("unidadesnegocio.create")))}}],columnDefs:[{targets:0,width:"10%",render:function(e,i,o,n){return'<a href="'+t.Misc.urlFull(Route.route("unidadesnegocio.show",{unidadesnegocio:o.id}))+'">'+e+"</a>"}},{targets:2,width:"15%",render:function(e,t,i,o){return parseInt(e)?"Si":"No"}}]})}})}(jQuery,this,this.document),function(e,t,i,o){var n=function(e){};n.prototype={initialize:function(){},formToJson:function(t){var i={},n=[];return n=e.prototype.isPrototypeOf(t)?t.serializeArray():e(t).serializeArray(),e.each(n,function(){i[this.name]!==o?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i},isUrl:function(e){var t=/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+(\/(.)*)?(\?(.)*)?/i;return t.test(e)},urlFull:function(e){if(!this.isUrl(i.url))return e;e||(e="");var t=/^\//;return t.test(e)||(e="/"+e),i.url+e},parseErrors:function(t){var i="";if(_.isObject(t)){var o="<ul>";e.each(t,function(e,t){o+="<li>"+t[0]+"</li>"}),o+="</ul>",i=o}return i},setSpinner:function(t){t&&e(t).prepend('<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>')},removeSpinner:function(t){var i=e(t).find(".overlay");i.length&&i.remove()},dataTableES:function(){return{sProcessing:'<div class="overlay"><i class="fa fa-refresh fa-spin"></i></div>',sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}}},redirect:function(e){e!==o&&""!=e?t.location=e:t.location.reload()},successRedirect:function(e,i){alertify.success(e),setTimeout(function(){t.Misc.redirect(i)},500)},currency:function(e){return accounting.formatMoney(e,"",2,".",",")},evaluateActionsAccount:function(i){i||(i={});var o={callback:null,wrap:"body",data:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("asientos.detalle.evaluate")),type:"POST",data:n.data,beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i=e.success?"":e.errors;return _.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e.actions)):void alertify.error(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})},evaluateActionsInventory:function(i){i||(i={});var o={callback:null,wrap:"body",data:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("productos.evaluate")),type:"POST",data:n.data,beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i=e.success?"":e.errors;return _.isObject(e.errors)&&(i=t.Misc.parseErrors(e.errors)),e.success?void("Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(e.action,e.tipoajuste)):void alertify.error(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})},evaluateFacturap:function(i){i||(i={});var o={callback:null,wrap:"body",facturap:null,tercero:null,naturaleza:null},n={};n=e.extend({},o,i),e.ajax({url:t.Misc.urlFull(Route.route("facturap.search")),type:"GET",data:{facturap1_factura:n.facturap,tercero_nit:n.tercero},beforeSend:function(){t.Misc.setSpinner(n.wrap)}}).done(function(e){t.Misc.removeSpinner(n.wrap);var i={actions:!1};e.success?(i.actions=!0,i.facturap=e.id,i.action="quota"):"C"==n.naturaleza?(i.actions=!0,i.action="add"):"D"==n.naturaleza&&(i.message="Para realizar movimientos de naturaleza débito de ingresar un numero de factura existente."),"Function"==={}.toString.call(n.callback).slice(8,-1)&&n.callback(i)}).fail(function(e,i,o){t.Misc.removeSpinner(n.wrap),alertify.error(o)})}},t.Misc=new n,t.Misc.initialize()}(jQuery,this,this.document),function(){var e=function(){var e={absolute:!1,rootUrl:"http://localhost",routes:[{host:null,methods:["POST"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@postLogin"},{host:null,methods:["GET","HEAD"],uri:"login",name:"login",action:"AppHttpControllersAuthAuthController@getLogin"},{host:null,methods:["GET","HEAD"],uri:"logout",name:"logout",action:"AppHttpControllersAuthAuthController@getLogout"},{host:null,methods:["GET","HEAD"],uri:"/",name:"dashboard",action:"AppHttpControllersHomeController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/dv",name:"terceros.dv",action:"AppHttpControllersAdminTerceroController@dv"},{host:null,methods:["GET","HEAD"],uri:"terceros/rcree",name:"terceros.rcree",action:"AppHttpControllersAdminTerceroController@rcree"},{host:null,methods:["GET","HEAD"],uri:"terceros/search",name:"terceros.search",action:"AppHttpControllersAdminTerceroController@search"},{host:null,methods:["POST"],uri:"terceros/setpassword",name:"terceros.setpassword",action:"AppHttpControllersAdminTerceroController@setpassword"},{host:null,methods:["GET","HEAD"],uri:"terceros/contactos",name:"terceros.contactos.index",action:"AppHttpControllersAdminContactoController@index"},{host:null,methods:["POST"],uri:"terceros/contactos",name:"terceros.contactos.store",action:"AppHttpControllersAdminContactoController@store"},{host:null,methods:["PUT"],uri:"terceros/contactos/{contactos}",name:"terceros.contactos.update",action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["PATCH"],uri:"terceros/contactos/{contactos}",name:null,action:"AppHttpControllersAdminContactoController@update"},{host:null,methods:["GET","HEAD"],uri:"terceros/roles",name:"terceros.roles.index",action:"AppHttpControllersAdminUsuarioRolController@index"},{host:null,methods:["POST"],uri:"terceros/roles",name:"terceros.roles.store",action:"AppHttpControllersAdminUsuarioRolController@store"},{host:null,methods:["DELETE"],uri:"terceros/roles/{roles}",name:"terceros.roles.destroy",action:"AppHttpControllersAdminUsuarioRolController@destroy"},{host:null,methods:["GET","HEAD"],uri:"empresa",name:"empresa.index",action:"AppHttpControllersAdminEmpresaController@index"},{host:null,methods:["PUT"],uri:"empresa/{empresa}",name:"empresa.update",action:"AppHttpControllersAdminEmpresaController@update"},{host:null,methods:["PATCH"],uri:"empresa/{empresa}",name:null,action:"AppHttpControllersAdminEmpresaController@update"},{host:null,methods:["GET","HEAD"],uri:"terceros",name:"terceros.index",action:"AppHttpControllersAdminTerceroController@index"},{host:null,methods:["GET","HEAD"],uri:"terceros/create",name:"terceros.create",action:"AppHttpControllersAdminTerceroController@create"},{host:null,methods:["POST"],uri:"terceros",name:"terceros.store",action:"AppHttpControllersAdminTerceroController@store"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}",name:"terceros.show",action:"AppHttpControllersAdminTerceroController@show"},{host:null,methods:["GET","HEAD"],uri:"terceros/{terceros}/edit",name:"terceros.edit",action:"AppHttpControllersAdminTerceroController@edit"},{host:null,methods:["PUT"],uri:"terceros/{terceros}",name:"terceros.update",action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["PATCH"],uri:"terceros/{terceros}",name:null,action:"AppHttpControllersAdminTerceroController@update"},{host:null,methods:["GET","HEAD"],uri:"actividades",name:"actividades.index",action:"AppHttpControllersAdminActividadController@index"},{host:null,methods:["GET","HEAD"],uri:"actividades/create",name:"actividades.create",action:"AppHttpControllersAdminActividadController@create"},{host:null,methods:["POST"],uri:"actividades",name:"actividades.store",action:"AppHttpControllersAdminActividadController@store"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}",name:"actividades.show",action:"AppHttpControllersAdminActividadController@show"},{host:null,methods:["GET","HEAD"],uri:"actividades/{actividades}/edit",name:"actividades.edit",action:"AppHttpControllersAdminActividadController@edit"},{host:null,methods:["PUT"],uri:"actividades/{actividades}",name:"actividades.update",action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["PATCH"],uri:"actividades/{actividades}",name:null,action:"AppHttpControllersAdminActividadController@update"},{host:null,methods:["GET","HEAD"],uri:"departamentos",name:"departamentos.index",action:"AppHttpControllersAdminDepartamentoController@index"},{host:null,methods:["GET","HEAD"],uri:"departamentos/{departamentos}",name:"departamentos.show",action:"AppHttpControllersAdminDepartamentoController@show"},{host:null,methods:["GET","HEAD"],uri:"municipios",name:"municipios.index",action:"AppHttpControllersAdminMunicipioController@index"},{host:null,methods:["GET","HEAD"],uri:"sucursales",name:"sucursales.index",action:"AppHttpControllersAdminSucursalController@index"},{host:null,methods:["GET","HEAD"],uri:"sucursales/create",name:"sucursales.create",action:"AppHttpControllersAdminSucursalController@create"},{host:null,methods:["POST"],uri:"sucursales",name:"sucursales.store",action:"AppHttpControllersAdminSucursalController@store"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}",name:"sucursales.show",action:"AppHttpControllersAdminSucursalController@show"},{host:null,methods:["GET","HEAD"],uri:"sucursales/{sucursales}/edit",name:"sucursales.edit",action:"AppHttpControllersAdminSucursalController@edit"},{host:null,methods:["PUT"],uri:"sucursales/{sucursales}",name:"sucursales.update",action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["PATCH"],uri:"sucursales/{sucursales}",name:null,action:"AppHttpControllersAdminSucursalController@update"},{host:null,methods:["GET","HEAD"],uri:"regionales",name:"regionales.index",action:"AppHttpControllersAdminRegionalController@index"},{host:null,methods:["GET","HEAD"],uri:"regionales/create",name:"regionales.create",action:"AppHttpControllersAdminRegionalController@create"},{host:null,methods:["POST"],uri:"regionales",name:"regionales.store",action:"AppHttpControllersAdminRegionalController@store"},{host:null,methods:["GET","HEAD"],uri:"regionales/{regionales}",name:"regionales.show",action:"AppHttpControllersAdminRegionalController@show"},{host:null,methods:["GET","HEAD"],uri:"regionales/{regionales}/edit",name:"regionales.edit",action:"AppHttpControllersAdminRegionalController@edit"},{host:null,methods:["PUT"],uri:"regionales/{regionales}",name:"regionales.update",action:"AppHttpControllersAdminRegionalController@update"},{host:null,methods:["PATCH"],uri:"regionales/{regionales}",name:null,action:"AppHttpControllersAdminRegionalController@update"},{host:null,methods:["GET","HEAD"],uri:"puntosventa",name:"puntosventa.index",action:"AppHttpControllersAdminPuntoVentaController@index"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/create",name:"puntosventa.create",action:"AppHttpControllersAdminPuntoVentaController@create"},{host:null,methods:["POST"],uri:"puntosventa",name:"puntosventa.store",action:"AppHttpControllersAdminPuntoVentaController@store"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/{puntosventa}",name:"puntosventa.show",action:"AppHttpControllersAdminPuntoVentaController@show"},{host:null,methods:["GET","HEAD"],uri:"puntosventa/{puntosventa}/edit",name:"puntosventa.edit",action:"AppHttpControllersAdminPuntoVentaController@edit"},{host:null,methods:["PUT"],uri:"puntosventa/{puntosventa}",name:"puntosventa.update",action:"AppHttpControllersAdminPuntoVentaController@update"},{host:null,methods:["PATCH"],uri:"puntosventa/{puntosventa}",name:null,action:"AppHttpControllersAdminPuntoVentaController@update"},{host:null,methods:["GET","HEAD"],uri:"documento",name:"documento.index",action:"AppHttpControllersAdminDocumentosController@index"},{host:null,methods:["GET","HEAD"],uri:"documento/create",name:"documento.create",action:"AppHttpControllersAdminDocumentosController@create"},{host:null,methods:["POST"],uri:"documento",name:"documento.store",action:"AppHttpControllersAdminDocumentosController@store"},{host:null,methods:["GET","HEAD"],uri:"documento/{documento}",name:"documento.show",action:"AppHttpControllersAdminDocumentosController@show"},{host:null,methods:["GET","HEAD"],uri:"documento/{documento}/edit",name:"documento.edit",action:"AppHttpControllersAdminDocumentosController@edit"},{host:null,methods:["PUT"],uri:"documento/{documento}",name:"documento.update",action:"AppHttpControllersAdminDocumentosController@update"},{host:null,methods:["PATCH"],uri:"documento/{documento}",name:null,action:"AppHttpControllersAdminDocumentosController@update"},{host:null,methods:["GET","HEAD"],uri:"tiposactividad",name:"tiposactividad.index",action:"AppHttpControllersAdminTipoActividadController@index"},{host:null,methods:["GET","HEAD"],uri:"tiposactividad/create",name:"tiposactividad.create",action:"AppHttpControllersAdminTipoActividadController@create"},{host:null,methods:["POST"],uri:"tiposactividad",name:"tiposactividad.store",action:"AppHttpControllersAdminTipoActividadController@store"},{host:null,methods:["GET","HEAD"],uri:"tiposactividad/{tiposactividad}",name:"tiposactividad.show",action:"AppHttpControllersAdminTipoActividadController@show"},{host:null,methods:["GET","HEAD"],uri:"tiposactividad/{tiposactividad}/edit",name:"tiposactividad.edit",action:"AppHttpControllersAdminTipoActividadController@edit"},{host:null,methods:["PUT"],uri:"tiposactividad/{tiposactividad}",name:"tiposactividad.update",action:"AppHttpControllersAdminTipoActividadController@update"},{host:null,methods:["PATCH"],uri:"tiposactividad/{tiposactividad}",name:null,action:"AppHttpControllersAdminTipoActividadController@update"},{host:null,methods:["GET","HEAD"],uri:"bitacoras",name:"bitacoras.index",action:"AppHttpControllersAdminBitacoraController@index"},{host:null,methods:["GET","HEAD"],uri:"presupuestoasesor",name:"presupuestoasesor.index",action:"AppHttpControllersComercialPresupuestoAsesorController@index"},{host:null,methods:["POST"],uri:"presupuestoasesor",name:"presupuestoasesor.store",action:"AppHttpControllersComercialPresupuestoAsesorController@store"},{host:null,methods:["GET","HEAD"],uri:"documentos",name:"documentos.index",action:"AppHttpControllersContabilidadDocumentoController@index"},{host:null,methods:["GET","HEAD"],uri:"documentos/create",name:"documentos.create",action:"AppHttpControllersContabilidadDocumentoController@create"},{host:null,methods:["POST"],uri:"documentos",name:"documentos.store",action:"AppHttpControllersContabilidadDocumentoController@store"},{host:null,methods:["GET","HEAD"],uri:"documentos/{documentos}",name:"documentos.show",action:"AppHttpControllersContabilidadDocumentoController@show"},{host:null,methods:["GET","HEAD"],uri:"documentos/{documentos}/edit",name:"documentos.edit",action:"AppHttpControllersContabilidadDocumentoController@edit"},{host:null,methods:["PUT"],uri:"documentos/{documentos}",name:"documentos.update",action:"AppHttpControllersContabilidadDocumentoController@update"},{host:null,methods:["PATCH"],uri:"documentos/{documentos}",name:null,action:"AppHttpControllersContabilidadDocumentoController@update"},{host:null,methods:["GET","HEAD"],uri:"folders",name:"folders.index",action:"AppHttpControllersContabilidadFolderController@index"},{host:null,methods:["GET","HEAD"],uri:"folders/create",name:"folders.create",action:"AppHttpControllersContabilidadFolderController@create"},{host:null,methods:["POST"],uri:"folders",name:"folders.store",action:"AppHttpControllersContabilidadFolderController@store"},{host:null,methods:["GET","HEAD"],uri:"folders/{folders}",name:"folders.show",action:"AppHttpControllersContabilidadFolderController@show"},{host:null,methods:["GET","HEAD"],uri:"folders/{folders}/edit",name:"folders.edit",action:"AppHttpControllersContabilidadFolderController@edit"},{host:null,methods:["PUT"],uri:"folders/{folders}",name:"folders.update",action:"AppHttpControllersContabilidadFolderController@update"},{host:null,methods:["PATCH"],uri:"folders/{folders}",name:null,action:"AppHttpControllersContabilidadFolderController@update"},{host:null,methods:["GET","HEAD"],uri:"centroscosto",name:"centroscosto.index",action:"AppHttpControllersContabilidadCentroCostoController@index"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/create",name:"centroscosto.create",action:"AppHttpControllersContabilidadCentroCostoController@create"},{host:null,methods:["POST"],uri:"centroscosto",name:"centroscosto.store",action:"AppHttpControllersContabilidadCentroCostoController@store"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/{centroscosto}",name:"centroscosto.show",action:"AppHttpControllersContabilidadCentroCostoController@show"},{host:null,methods:["GET","HEAD"],uri:"centroscosto/{centroscosto}/edit",name:"centroscosto.edit",action:"AppHttpControllersContabilidadCentroCostoController@edit"},{host:null,methods:["PUT"],uri:"centroscosto/{centroscosto}",name:"centroscosto.update",action:"AppHttpControllersContabilidadCentroCostoController@update"},{host:null,methods:["PATCH"],uri:"centroscosto/{centroscosto}",name:null,action:"AppHttpControllersContabilidadCentroCostoController@update"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/nivel",name:"plancuentas.nivel",action:"AppHttpControllersContabilidadPlanCuentasController@nivel"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/search",name:"plancuentas.search",action:"AppHttpControllersContabilidadPlanCuentasController@search"},{host:null,methods:["GET","HEAD"],uri:"plancuentas",name:"plancuentas.index",action:"AppHttpControllersContabilidadPlanCuentasController@index"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/create",name:"plancuentas.create",action:"AppHttpControllersContabilidadPlanCuentasController@create"},{host:null,methods:["POST"],uri:"plancuentas",name:"plancuentas.store",action:"AppHttpControllersContabilidadPlanCuentasController@store"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/{plancuentas}",name:"plancuentas.show",action:"AppHttpControllersContabilidadPlanCuentasController@show"},{host:null,methods:["GET","HEAD"],uri:"plancuentas/{plancuentas}/edit",name:"plancuentas.edit",action:"AppHttpControllersContabilidadPlanCuentasController@edit"},{host:null,methods:["PUT"],uri:"plancuentas/{plancuentas}",name:"plancuentas.update",action:"AppHttpControllersContabilidadPlanCuentasController@update"},{host:null,methods:["PATCH"],uri:"plancuentas/{plancuentas}",name:null,action:"AppHttpControllersContabilidadPlanCuentasController@update"},{host:null,methods:["GET","HEAD"],uri:"asientos/detalle",name:"asientos.detalle.index",action:"AppHttpControllersContabilidadDetalleAsientoController@index"},{host:null,methods:["POST"],uri:"asientos/detalle",name:"asientos.detalle.store",action:"AppHttpControllersContabilidadDetalleAsientoController@store"},{host:null,methods:["DELETE"],uri:"asientos/detalle/{detalle}",name:"asientos.detalle.destroy",action:"AppHttpControllersContabilidadDetalleAsientoController@destroy"},{host:null,methods:["GET","HEAD"],uri:"asientos/exportar/{asientos}",name:"asientos.exportar",action:"AppHttpControllersContabilidadAsientoController@exportar"},{host:null,methods:["POST"],uri:"asientos/detalle/evaluate",name:"asientos.detalle.evaluate",action:"AppHttpControllersContabilidadDetalleAsientoController@evaluate"},{host:null,methods:["POST"],uri:"asientos/detalle/validate",name:"asientos.detalle.validate",action:"AppHttpControllersContabilidadDetalleAsientoController@validation"},{host:null,methods:["GET","HEAD"],uri:"asientos/detalle/movimientos",name:"asientos.detalle.movimientos",action:"AppHttpControllersContabilidadDetalleAsientoController@movimientos"},{host:null,methods:["GET","HEAD"],uri:"asientos",name:"asientos.index",action:"AppHttpControllersContabilidadAsientoController@index"},{host:null,methods:["GET","HEAD"],uri:"asientos/create",name:"asientos.create",action:"AppHttpControllersContabilidadAsientoController@create"},{host:null,methods:["POST"],uri:"asientos",name:"asientos.store",action:"AppHttpControllersContabilidadAsientoController@store"},{host:null,methods:["GET","HEAD"],uri:"asientos/{asientos}",name:"asientos.show",action:"AppHttpControllersContabilidadAsientoController@show"},{host:null,methods:["GET","HEAD"],uri:"asientos/{asientos}/edit",name:"asientos.edit",action:"AppHttpControllersContabilidadAsientoController@edit"},{host:null,methods:["PUT"],uri:"asientos/{asientos}",name:"asientos.update",action:"AppHttpControllersContabilidadAsientoController@update"},{host:null,methods:["PATCH"],uri:"asientos/{asientos}",name:null,action:"AppHttpControllersContabilidadAsientoController@update"},{host:null,methods:["GET","HEAD"],uri:"rmayorbalance",name:"rmayorbalance.index",action:"AppHttpControllersReporteMayorBalanceController@index"},{host:null,methods:["GET","HEAD"],uri:"rplancuentas",name:"rplancuentas.index",action:"AppHttpControllersReportePlanCuentasController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/search",name:"productos.search",action:"AppHttpControllersInventarioProductoController@search"},{host:null,methods:["GET","HEAD"],uri:"productos/rollos",name:"productos.rollos.index",action:"AppHttpControllersInventarioProdbodeRolloController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/lotes",name:"productos.lotes.index",action:"AppHttpControllersInventarioProdbodeLoteController@index"},{host:null,methods:["POST"],uri:"productos/evaluate",name:"productos.evaluate",action:"AppHttpControllersInventarioProductoController@evaluate"},{host:null,methods:["POST"],uri:"productos/validate",name:"productos.validate",action:"AppHttpControllersInventarioProductoController@validation"},{host:null,methods:["GET","HEAD"],uri:"pedidos/detalle",name:"pedidos.detalle.index",action:"AppHttpControllersInventarioDetallePedidoController@index"},{host:null,methods:["GET","HEAD"],uri:"pedidos/detalle/create",name:"pedidos.detalle.create",action:"AppHttpControllersInventarioDetallePedidoController@create"},{host:null,methods:["POST"],uri:"pedidos/detalle",name:"pedidos.detalle.store",action:"AppHttpControllersInventarioDetallePedidoController@store"},{host:null,methods:["GET","HEAD"],uri:"pedidos/detalle/{detalle}",name:"pedidos.detalle.show",action:"AppHttpControllersInventarioDetallePedidoController@show"},{host:null,methods:["GET","HEAD"],uri:"pedidos/detalle/{detalle}/edit",name:"pedidos.detalle.edit",action:"AppHttpControllersInventarioDetallePedidoController@edit"},{host:null,methods:["PUT"],uri:"pedidos/detalle/{detalle}",name:"pedidos.detalle.update",action:"AppHttpControllersInventarioDetallePedidoController@update"},{host:null,methods:["PATCH"],uri:"pedidos/detalle/{detalle}",name:null,action:"AppHttpControllersInventarioDetallePedidoController@update"},{host:null,methods:["DELETE"],uri:"pedidos/detalle/{detalle}",name:"pedidos.detalle.destroy",action:"AppHttpControllersInventarioDetallePedidoController@destroy"},{host:null,methods:["GET","HEAD"],uri:"pedidos/cerrar/{pedidos}",
name:"pedidos.cerrar",action:"AppHttpControllersInventarioPedidoController@cerrar"},{host:null,methods:["GET","HEAD"],uri:"pedidos/anular/{pedidos}",name:"pedidos.anular",action:"AppHttpControllersInventarioPedidoController@anular"},{host:null,methods:["GET","HEAD"],uri:"ajustes/detalle",name:"ajustes.detalle.index",action:"AppHttpControllersInventarioDetalleAjusteController@index"},{host:null,methods:["GET","HEAD"],uri:"ajustes/detalle/create",name:"ajustes.detalle.create",action:"AppHttpControllersInventarioDetalleAjusteController@create"},{host:null,methods:["POST"],uri:"ajustes/detalle",name:"ajustes.detalle.store",action:"AppHttpControllersInventarioDetalleAjusteController@store"},{host:null,methods:["GET","HEAD"],uri:"ajustes/detalle/{detalle}",name:"ajustes.detalle.show",action:"AppHttpControllersInventarioDetalleAjusteController@show"},{host:null,methods:["GET","HEAD"],uri:"ajustes/detalle/{detalle}/edit",name:"ajustes.detalle.edit",action:"AppHttpControllersInventarioDetalleAjusteController@edit"},{host:null,methods:["PUT"],uri:"ajustes/detalle/{detalle}",name:"ajustes.detalle.update",action:"AppHttpControllersInventarioDetalleAjusteController@update"},{host:null,methods:["PATCH"],uri:"ajustes/detalle/{detalle}",name:null,action:"AppHttpControllersInventarioDetalleAjusteController@update"},{host:null,methods:["DELETE"],uri:"ajustes/detalle/{detalle}",name:"ajustes.detalle.destroy",action:"AppHttpControllersInventarioDetalleAjusteController@destroy"},{host:null,methods:["GET","HEAD"],uri:"modelos",name:"modelos.index",action:"AppHttpControllersInventarioModeloController@index"},{host:null,methods:["GET","HEAD"],uri:"modelos/create",name:"modelos.create",action:"AppHttpControllersInventarioModeloController@create"},{host:null,methods:["POST"],uri:"modelos",name:"modelos.store",action:"AppHttpControllersInventarioModeloController@store"},{host:null,methods:["GET","HEAD"],uri:"modelos/{modelos}",name:"modelos.show",action:"AppHttpControllersInventarioModeloController@show"},{host:null,methods:["GET","HEAD"],uri:"modelos/{modelos}/edit",name:"modelos.edit",action:"AppHttpControllersInventarioModeloController@edit"},{host:null,methods:["PUT"],uri:"modelos/{modelos}",name:"modelos.update",action:"AppHttpControllersInventarioModeloController@update"},{host:null,methods:["PATCH"],uri:"modelos/{modelos}",name:null,action:"AppHttpControllersInventarioModeloController@update"},{host:null,methods:["GET","HEAD"],uri:"marcas",name:"marcas.index",action:"AppHttpControllersInventarioMarcaController@index"},{host:null,methods:["GET","HEAD"],uri:"marcas/create",name:"marcas.create",action:"AppHttpControllersInventarioMarcaController@create"},{host:null,methods:["POST"],uri:"marcas",name:"marcas.store",action:"AppHttpControllersInventarioMarcaController@store"},{host:null,methods:["GET","HEAD"],uri:"marcas/{marcas}",name:"marcas.show",action:"AppHttpControllersInventarioMarcaController@show"},{host:null,methods:["GET","HEAD"],uri:"marcas/{marcas}/edit",name:"marcas.edit",action:"AppHttpControllersInventarioMarcaController@edit"},{host:null,methods:["PUT"],uri:"marcas/{marcas}",name:"marcas.update",action:"AppHttpControllersInventarioMarcaController@update"},{host:null,methods:["PATCH"],uri:"marcas/{marcas}",name:null,action:"AppHttpControllersInventarioMarcaController@update"},{host:null,methods:["GET","HEAD"],uri:"categorias",name:"categorias.index",action:"AppHttpControllersInventarioCategoriaController@index"},{host:null,methods:["GET","HEAD"],uri:"categorias/create",name:"categorias.create",action:"AppHttpControllersInventarioCategoriaController@create"},{host:null,methods:["POST"],uri:"categorias",name:"categorias.store",action:"AppHttpControllersInventarioCategoriaController@store"},{host:null,methods:["GET","HEAD"],uri:"categorias/{categorias}",name:"categorias.show",action:"AppHttpControllersInventarioCategoriaController@show"},{host:null,methods:["GET","HEAD"],uri:"categorias/{categorias}/edit",name:"categorias.edit",action:"AppHttpControllersInventarioCategoriaController@edit"},{host:null,methods:["PUT"],uri:"categorias/{categorias}",name:"categorias.update",action:"AppHttpControllersInventarioCategoriaController@update"},{host:null,methods:["PATCH"],uri:"categorias/{categorias}",name:null,action:"AppHttpControllersInventarioCategoriaController@update"},{host:null,methods:["GET","HEAD"],uri:"impuestos",name:"impuestos.index",action:"AppHttpControllersInventarioImpuestoController@index"},{host:null,methods:["GET","HEAD"],uri:"impuestos/create",name:"impuestos.create",action:"AppHttpControllersInventarioImpuestoController@create"},{host:null,methods:["POST"],uri:"impuestos",name:"impuestos.store",action:"AppHttpControllersInventarioImpuestoController@store"},{host:null,methods:["GET","HEAD"],uri:"impuestos/{impuestos}",name:"impuestos.show",action:"AppHttpControllersInventarioImpuestoController@show"},{host:null,methods:["GET","HEAD"],uri:"impuestos/{impuestos}/edit",name:"impuestos.edit",action:"AppHttpControllersInventarioImpuestoController@edit"},{host:null,methods:["PUT"],uri:"impuestos/{impuestos}",name:"impuestos.update",action:"AppHttpControllersInventarioImpuestoController@update"},{host:null,methods:["PATCH"],uri:"impuestos/{impuestos}",name:null,action:"AppHttpControllersInventarioImpuestoController@update"},{host:null,methods:["GET","HEAD"],uri:"pedidos",name:"pedidos.index",action:"AppHttpControllersInventarioPedidoController@index"},{host:null,methods:["GET","HEAD"],uri:"pedidos/create",name:"pedidos.create",action:"AppHttpControllersInventarioPedidoController@create"},{host:null,methods:["POST"],uri:"pedidos",name:"pedidos.store",action:"AppHttpControllersInventarioPedidoController@store"},{host:null,methods:["GET","HEAD"],uri:"pedidos/{pedidos}",name:"pedidos.show",action:"AppHttpControllersInventarioPedidoController@show"},{host:null,methods:["GET","HEAD"],uri:"pedidos/{pedidos}/edit",name:"pedidos.edit",action:"AppHttpControllersInventarioPedidoController@edit"},{host:null,methods:["PUT"],uri:"pedidos/{pedidos}",name:"pedidos.update",action:"AppHttpControllersInventarioPedidoController@update"},{host:null,methods:["PATCH"],uri:"pedidos/{pedidos}",name:null,action:"AppHttpControllersInventarioPedidoController@update"},{host:null,methods:["GET","HEAD"],uri:"productos",name:"productos.index",action:"AppHttpControllersInventarioProductoController@index"},{host:null,methods:["GET","HEAD"],uri:"productos/create",name:"productos.create",action:"AppHttpControllersInventarioProductoController@create"},{host:null,methods:["POST"],uri:"productos",name:"productos.store",action:"AppHttpControllersInventarioProductoController@store"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}",name:"productos.show",action:"AppHttpControllersInventarioProductoController@show"},{host:null,methods:["GET","HEAD"],uri:"productos/{productos}/edit",name:"productos.edit",action:"AppHttpControllersInventarioProductoController@edit"},{host:null,methods:["PUT"],uri:"productos/{productos}",name:"productos.update",action:"AppHttpControllersInventarioProductoController@update"},{host:null,methods:["PATCH"],uri:"productos/{productos}",name:null,action:"AppHttpControllersInventarioProductoController@update"},{host:null,methods:["GET","HEAD"],uri:"lineas",name:"lineas.index",action:"AppHttpControllersInventarioLineaController@index"},{host:null,methods:["GET","HEAD"],uri:"lineas/create",name:"lineas.create",action:"AppHttpControllersInventarioLineaController@create"},{host:null,methods:["POST"],uri:"lineas",name:"lineas.store",action:"AppHttpControllersInventarioLineaController@store"},{host:null,methods:["GET","HEAD"],uri:"lineas/{lineas}",name:"lineas.show",action:"AppHttpControllersInventarioLineaController@show"},{host:null,methods:["GET","HEAD"],uri:"lineas/{lineas}/edit",name:"lineas.edit",action:"AppHttpControllersInventarioLineaController@edit"},{host:null,methods:["PUT"],uri:"lineas/{lineas}",name:"lineas.update",action:"AppHttpControllersInventarioLineaController@update"},{host:null,methods:["PATCH"],uri:"lineas/{lineas}",name:null,action:"AppHttpControllersInventarioLineaController@update"},{host:null,methods:["GET","HEAD"],uri:"unidades",name:"unidades.index",action:"AppHttpControllersInventarioUnidadesMedidaController@index"},{host:null,methods:["GET","HEAD"],uri:"unidades/create",name:"unidades.create",action:"AppHttpControllersInventarioUnidadesMedidaController@create"},{host:null,methods:["POST"],uri:"unidades",name:"unidades.store",action:"AppHttpControllersInventarioUnidadesMedidaController@store"},{host:null,methods:["GET","HEAD"],uri:"unidades/{unidades}",name:"unidades.show",action:"AppHttpControllersInventarioUnidadesMedidaController@show"},{host:null,methods:["GET","HEAD"],uri:"unidades/{unidades}/edit",name:"unidades.edit",action:"AppHttpControllersInventarioUnidadesMedidaController@edit"},{host:null,methods:["PUT"],uri:"unidades/{unidades}",name:"unidades.update",action:"AppHttpControllersInventarioUnidadesMedidaController@update"},{host:null,methods:["PATCH"],uri:"unidades/{unidades}",name:null,action:"AppHttpControllersInventarioUnidadesMedidaController@update"},{host:null,methods:["GET","HEAD"],uri:"ajustes",name:"ajustes.index",action:"AppHttpControllersInventarioAjusteController@index"},{host:null,methods:["GET","HEAD"],uri:"ajustes/create",name:"ajustes.create",action:"AppHttpControllersInventarioAjusteController@create"},{host:null,methods:["POST"],uri:"ajustes",name:"ajustes.store",action:"AppHttpControllersInventarioAjusteController@store"},{host:null,methods:["GET","HEAD"],uri:"ajustes/{ajustes}",name:"ajustes.show",action:"AppHttpControllersInventarioAjusteController@show"},{host:null,methods:["PUT"],uri:"ajustes/{ajustes}",name:"ajustes.update",action:"AppHttpControllersInventarioAjusteController@update"},{host:null,methods:["PATCH"],uri:"ajustes/{ajustes}",name:null,action:"AppHttpControllersInventarioAjusteController@update"},{host:null,methods:["GET","HEAD"],uri:"tiposajuste",name:"tiposajuste.index",action:"AppHttpControllersInventarioTipoAjusteController@index"},{host:null,methods:["GET","HEAD"],uri:"tiposajuste/create",name:"tiposajuste.create",action:"AppHttpControllersInventarioTipoAjusteController@create"},{host:null,methods:["POST"],uri:"tiposajuste",name:"tiposajuste.store",action:"AppHttpControllersInventarioTipoAjusteController@store"},{host:null,methods:["GET","HEAD"],uri:"tiposajuste/{tiposajuste}",name:"tiposajuste.show",action:"AppHttpControllersInventarioTipoAjusteController@show"},{host:null,methods:["GET","HEAD"],uri:"tiposajuste/{tiposajuste}/edit",name:"tiposajuste.edit",action:"AppHttpControllersInventarioTipoAjusteController@edit"},{host:null,methods:["PUT"],uri:"tiposajuste/{tiposajuste}",name:"tiposajuste.update",action:"AppHttpControllersInventarioTipoAjusteController@update"},{host:null,methods:["PATCH"],uri:"tiposajuste/{tiposajuste}",name:null,action:"AppHttpControllersInventarioTipoAjusteController@update"},{host:null,methods:["GET","HEAD"],uri:"subcategorias",name:"subcategorias.index",action:"AppHttpControllersInventarioSubCategoriaController@index"},{host:null,methods:["GET","HEAD"],uri:"subcategorias/create",name:"subcategorias.create",action:"AppHttpControllersInventarioSubCategoriaController@create"},{host:null,methods:["POST"],uri:"subcategorias",name:"subcategorias.store",action:"AppHttpControllersInventarioSubCategoriaController@store"},{host:null,methods:["GET","HEAD"],uri:"subcategorias/{subcategorias}",name:"subcategorias.show",action:"AppHttpControllersInventarioSubCategoriaController@show"},{host:null,methods:["GET","HEAD"],uri:"subcategorias/{subcategorias}/edit",name:"subcategorias.edit",action:"AppHttpControllersInventarioSubCategoriaController@edit"},{host:null,methods:["PUT"],uri:"subcategorias/{subcategorias}",name:"subcategorias.update",action:"AppHttpControllersInventarioSubCategoriaController@update"},{host:null,methods:["PATCH"],uri:"subcategorias/{subcategorias}",name:null,action:"AppHttpControllersInventarioSubCategoriaController@update"},{host:null,methods:["GET","HEAD"],uri:"unidadesnegocio",name:"unidadesnegocio.index",action:"AppHttpControllersInventarioUnidadNegocioController@index"},{host:null,methods:["GET","HEAD"],uri:"unidadesnegocio/create",name:"unidadesnegocio.create",action:"AppHttpControllersInventarioUnidadNegocioController@create"},{host:null,methods:["POST"],uri:"unidadesnegocio",name:"unidadesnegocio.store",action:"AppHttpControllersInventarioUnidadNegocioController@store"},{host:null,methods:["GET","HEAD"],uri:"unidadesnegocio/{unidadesnegocio}",name:"unidadesnegocio.show",action:"AppHttpControllersInventarioUnidadNegocioController@show"},{host:null,methods:["GET","HEAD"],uri:"unidadesnegocio/{unidadesnegocio}/edit",name:"unidadesnegocio.edit",action:"AppHttpControllersInventarioUnidadNegocioController@edit"},{host:null,methods:["PUT"],uri:"unidadesnegocio/{unidadesnegocio}",name:"unidadesnegocio.update",action:"AppHttpControllersInventarioUnidadNegocioController@update"},{host:null,methods:["PATCH"],uri:"unidadesnegocio/{unidadesnegocio}",name:null,action:"AppHttpControllersInventarioUnidadNegocioController@update"}],prefix:"",route:function(e,t,i){if(i=i||this.getByName(e))return this.toRoute(i,t)},url:function(e,t){t=t||[];var i=e+"/"+t.join("/");return this.getCorrectUrl(i)},toRoute:function(e,t){var i=this.replaceNamedParameters(e.uri,t),o=this.getRouteQueryString(t);return this.absolute&&this.isOtherHost(e)?"//"+e.host+"/"+i+o:this.getCorrectUrl(i+o)},isOtherHost:function(e){return e.host&&e.host!=window.location.hostname},replaceNamedParameters:function(e,t){return e=e.replace(/\{(.*?)\??\}/g,function(e,i){if(t.hasOwnProperty(i)){var o=t[i];return delete t[i],o}return e}),e=e.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return t.length<1?"":"?"+t.join("&")},getByName:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].name===e)return this.routes[t]},getByAction:function(e){for(var t in this.routes)if(this.routes.hasOwnProperty(t)&&this.routes[t].action===e)return this.routes[t]},getCorrectUrl:function(e){var t=this.prefix+"/"+e.replace(/^\/?/,"");return this.absolute?this.rootUrl.replace("//?$/","")+t:t}},t=function(e){if(!e)return"";var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")},i=function(e,i,o){return i=i||e,o=t(o),'<a href="'+e+'" '+o+">"+i+"</a>"};return{action:function(t,i){return i=i||{},e.route(t,i,e.getByAction(t))},route:function(t,i){return i=i||{},e.route(t,i)},url:function(t,i){return i=i||{},e.url(t,i)},link_to:function(e,t,o){return e=this.url(e),i(e,t,o)},link_to_route:function(e,t,o,n){var a=this.route(e,o);return i(a,t,n)},link_to_action:function(e,t,o,n){var a=this.action(e,o);return i(a,t,n)}}}.call(this);"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:window.Route=e}.call(this),app||(app={}),function(e,t,i,o){app.AppRouter=new(Backbone.Router.extend({routes:{"login(/)":"getLogin","terceros(/)":"getTercerosMain","terceros/create(/)":"getTercerosCreate","terceros/:tercero(/)":"getTercerosShow","terceros/:tercero/edit(/)":"getTercerosEdit","empresa(/)":"getEmpresaEdit","actividades(/)":"getActividadesMain","actividades/create(/)":"getActividadesCreate","actividades/:actividad/edit(/)":"getActividadesEdit","sucursales(/)":"getSucursalesMain","sucursales/create(/)":"getSucursalesCreate","sucursales/:sucursal/edit(/)":"getSucursalesEdit","regionales(/)":"getRegionalesMain","regionales/create(/)":"getRegionalesCreate","regionales/:regional/edit(/)":"getRegionalesEdit","documento(/)":"getDocumentoMain","documento/create(/)":"getDocumentoCreate","documento/:documentos/edit(/)":"getDocumentoEdit","departamentos(/)":"getDepartamentosMain","municipios(/)":"getMunicipiosMain","puntosventa(/)":"getPuntosVentaMain","puntosventa/create(/)":"getPuntosVentaCreate","puntosventa/:puntoventa/edit(/)":"getPuntosVentaEdit","tiposactividad(/)":"getTiposActividadMain","tiposactividad/create(/)":"getTiposActividadCreate","tiposactividad/:tipoactividad/edit(/)":"getTiposActividadEdit","tiposajuste(/)":"getTiposAjusteMain","tiposajuste/create(/)":"getTipoAjusteCreate","tiposajuste/:tipoajuste/edit(/)":"getTipoAjusteEdit","presupuestoasesor(/)":"getPresupuestoAsesorMain","documentos(/)":"getDocumentosMain","documentos/create(/)":"getDocumentosCreate","documentos/:documento/edit(/)":"getDocumentosEdit","folders(/)":"getFoldersMain","folders/create(/)":"getFoldersCreate","folders/:folder/edit(/)":"getFoldersEdit","plancuentas(/)":"getPlanCuentasMain","plancuentas/create(/)":"getPlanCuentasCreate","plancuentas/:plancuenta/edit(/)":"getPlanCuentasEdit","centroscosto(/)":"getCentrosCostoMain","centroscosto/create(/)":"getCentrosCostoCreate","centroscosto/:centrocosto/edit(/)":"getCentrosCostoEdit","asientos(/)":"getAsientosMain","asientos/create(/)":"getAsientosCreate","asientos/:asientos(/)":"getAsientosShow","asientos/:asiento/edit(/)":"getAsientosEdit","productos(/)":"getProductosMain","productos/create(/)":"getProductosCreate","productos/:producto/edit(/)":"getProductosEdit","pedidos(/)":"getPedidosMain","pedidos/create(/)":"getPedidosCreate","pedidos/:pedido/edit(/)":"getPedidosEdit","pedidos/:pedidos(/)":"getPedidoShow","marcas(/)":"getMarcasMain","marcas/create(/)":"getMarcasCreate","marcas/:marcas/edit(/)":"getMarcasEdit","categorias(/)":"getCategoriasMain","categorias/create(/)":"getCategoriasCreate","categorias/:categorias/edit(/)":"getCategoriasEdit","subcategorias(/)":"getSubCategoriasMain","subcategorias/create(/)":"getSubCategoriasCreate","subcategorias/:subcategorias/edit(/)":"getSubCategoriasEdit","impuestos(/)":"getImpuestosMain","impuestos/create(/)":"getImpuestoCreate","impuestos/:impuestos/edit(/)":"getImpuestoEdit","modelos(/)":"getModelosMain","modelos/create(/)":"getModelosCreate","modelos/:modelo/edit(/)":"getModelosEdit","lineas(/)":"getLineasMain","lineas/create(/)":"getLineaCreate","lineas/:lineas/edit(/)":"getLineasEdit","unidades(/)":"getUnidadesMain","unidades/create(/)":"getUnidadesCreate","unidades/:unidad/edit(/)":"getUnidadesEdit","unidadesnegocio(/)":"getUnidadesNegocioMain","unidadesnegocio/create(/)":"getUnidadNegocioCreate","unidadesnegocio/:unidadnegocio/edit(/)":"getUnidadNegocioEdit","ajustes(/)":"getAjustesMain","ajustes/create(/)":"getAjustesCreate","ajustes/:ajustes(/)":"getAjusteShow"},parseQueryString:function(e){var t={};return e&&_.each(_.map(decodeURI(e).split(/&/g),function(e,t){var i=e.split("="),n={};if(i.length>=1){var a=o;2==i.length&&(a=i[1]),n[i[0]]=a}return n}),function(e){_.extend(t,e)}),t},initialize:function(e){this.componentGlobalView=new app.ComponentGlobalView,this.componentAddressView=new app.ComponentAddressView,this.componentSearchTerceroView=new app.ComponentSearchTerceroView,this.componentSearchProductoView=new app.ComponentSearchProductoView,this.componentTerceroView=new app.ComponentTerceroView,this.componentReporteView=new app.ComponentReporteView,this.componentCreateResourceView=new app.ComponentCreateResourceView,this.componentSearchCuentaView=new app.ComponentSearchCuentaView,this.componentConsecutiveView=new app.ComponentConsecutiveView},start:function(){var e={pushState:!0};"-1"!=i.domain.search(/(104.236.57.82|localhost)/gi)&&(e.root="/signsupply/public/"),Backbone.history.start(e)},getLogin:function(){this.loginView instanceof Backbone.View&&(this.loginView.stopListening(),this.loginView.undelegateEvents()),this.loginView=new app.UserLoginView},getEmpresaEdit:function(){this.empresaModel=new app.EmpresaModel,this.createEmpresaView instanceof Backbone.View&&(this.createEmpresaView.stopListening(),this.createEmpresaView.undelegateEvents()),this.createEmpresaView=new app.CreateEmpresaView({model:this.empresaModel}),this.empresaModel.fetch()},getTercerosMain:function(){this.mainTerceroView instanceof Backbone.View&&(this.mainTerceroView.stopListening(),this.mainTerceroView.undelegateEvents()),this.mainTerceroView=new app.MainTerceroView},getTercerosCreate:function(){this.terceroModel=new app.TerceroModel,this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.createTerceroView.render()},getTercerosShow:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.showTerceroView instanceof Backbone.View&&(this.showTerceroView.stopListening(),this.showTerceroView.undelegateEvents()),this.showTerceroView=new app.ShowTerceroView({model:this.terceroModel})},getTercerosEdit:function(e){this.terceroModel=new app.TerceroModel,this.terceroModel.set({id:e},{silent:!0}),this.createTerceroView instanceof Backbone.View&&(this.createTerceroView.stopListening(),this.createTerceroView.undelegateEvents()),this.createTerceroView=new app.CreateTerceroView({model:this.terceroModel}),this.terceroModel.fetch()},getActividadesMain:function(){this.mainActividadView instanceof Backbone.View&&(this.mainActividadView.stopListening(),this.mainActividadView.undelegateEvents()),this.mainActividadView=new app.MainActividadView},getActividadesCreate:function(){this.actividadModel=new app.ActividadModel,this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.createActividadView.render()},getActividadesEdit:function(e){this.actividadModel=new app.ActividadModel,this.actividadModel.set({id:e},{silent:!0}),this.createActividadView instanceof Backbone.View&&(this.createActividadView.stopListening(),this.createActividadView.undelegateEvents()),this.createActividadView=new app.CreateActividadView({model:this.actividadModel}),this.actividadModel.fetch()},getSucursalesMain:function(){this.mainSucursalesView instanceof Backbone.View&&(this.mainSucursalesView.stopListening(),this.mainSucursalesView.undelegateEvents()),this.mainSucursalesView=new app.MainSucursalesView},getSucursalesCreate:function(){this.sucursalModel=new app.SucursalModel,this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.createSucursalView.render()},getSucursalesEdit:function(e){this.sucursalModel=new app.SucursalModel,this.sucursalModel.set({id:e},{silent:!0}),this.createSucursalView instanceof Backbone.View&&(this.createSucursalView.stopListening(),this.createSucursalView.undelegateEvents()),this.createSucursalView=new app.CreateSucursalView({model:this.sucursalModel}),this.sucursalModel.fetch()},getRegionalesMain:function(){this.mainRegionalesView instanceof Backbone.View&&(this.mainRegionalesView.stopListening(),this.mainRegionalesView.undelegateEvents()),this.mainRegionalesView=new app.MainRegionalesView},getRegionalesCreate:function(){this.regionalModel=new app.RegionalModel,this.createRegionalView instanceof Backbone.View&&(this.createRegionalView.stopListening(),this.createRegionalView.undelegateEvents()),this.createRegionalView=new app.CreateRegionalView({model:this.regionalModel}),this.createRegionalView.render()},getRegionalesEdit:function(e){this.regionalModel=new app.RegionalModel,this.regionalModel.set({id:e},{silent:!0}),this.createRegionalView instanceof Backbone.View&&(this.createRegionalView.stopListening(),this.createRegionalView.undelegateEvents()),this.createRegionalView=new app.CreateRegionalView({model:this.regionalModel}),this.regionalModel.fetch()},getDepartamentosMain:function(){this.mainDepartamentoView instanceof Backbone.View&&(this.mainDepartamentoView.stopListening(),this.mainDepartamentoView.undelegateEvents()),this.mainDepartamentoView=new app.MainDepartamentoView},getDocumentoMain:function(){this.mainDocumentoView instanceof Backbone.View&&(this.mainDocumentoView.stopListening(),this.mainDocumentoView.undelegateEvents()),this.mainDocumentoView=new app.MainDocumentoView},getDocumentoCreate:function(){this.documentosModel=new app.DocumentosModel,this.createDocumentosView instanceof Backbone.View&&(this.createDocumentosView.stopListening(),this.createDocumentosView.undelegateEvents()),this.createDocumentosView=new app.CreateDocumentosView({model:this.documentosModel}),this.createDocumentosView.render()},getDocumentoEdit:function(e){this.documentosModel=new app.DocumentosModel,this.documentosModel.set({id:e},{silent:!0}),this.createDocumentosView instanceof Backbone.View&&(this.createDocumentosView.stopListening(),this.createDocumentosView.undelegateEvents()),this.createDocumentosView=new app.CreateDocumentosView({model:this.documentosModel}),this.documentosModel.fetch()},getMunicipiosMain:function(){this.mainMunicipioView instanceof Backbone.View&&(this.mainMunicipioView.stopListening(),this.mainMunicipioView.undelegateEvents()),this.mainMunicipioView=new app.MainMunicipioView},getPuntosVentaMain:function(){this.mainPuntoventaView instanceof Backbone.View&&(this.mainPuntoventaView.stopListening(),this.mainPuntoventaView.undelegateEvents()),this.mainPuntoventaView=new app.MainPuntoventaView},getPuntosVentaCreate:function(){this.puntoVentaModel=new app.PuntoVentaModel,this.createPuntoventaView instanceof Backbone.View&&(this.createPuntoventaView.stopListening(),this.createPuntoventaView.undelegateEvents()),this.createPuntoventaView=new app.CreatePuntoventaView({model:this.puntoVentaModel}),this.createPuntoventaView.render()},getPuntosVentaEdit:function(e){this.puntoVentaModel=new app.PuntoVentaModel,this.puntoVentaModel.set({id:e},{silent:!0}),this.createPuntoventaView instanceof Backbone.View&&(this.createPuntoventaView.stopListening(),this.createPuntoventaView.undelegateEvents()),this.createPuntoventaView=new app.CreatePuntoventaView({model:this.puntoVentaModel}),this.puntoVentaModel.fetch()},getTiposActividadMain:function(){this.mainTipoActividadView instanceof Backbone.View&&(this.mainTipoActividadView.stopListening(),this.mainTipoActividadView.undelegateEvents()),this.mainTipoActividadView=new app.MainTipoActividadView},getTiposActividadCreate:function(){this.tipoActividadModel=new app.TipoActividadModel,this.createTipoactividadView instanceof Backbone.View&&(this.createTipoactividadView.stopListening(),this.createTipoactividadView.undelegateEvents()),this.createTipoactividadView=new app.CreateTipoActividadView({model:this.tipoActividadModel}),this.createTipoactividadView.render()},getTiposActividadEdit:function(e){this.tipoActividadModel=new app.TipoActividadModel,this.tipoActividadModel.set({id:e},{silent:!0}),this.createTipoActividadView instanceof Backbone.View&&(this.createTipoActividadView.stopListening(),this.createTipoActividadView.undelegateEvents()),this.createTipoActividadView=new app.CreateTipoActividadView({model:this.tipoActividadModel}),this.tipoActividadModel.fetch()},getTiposAjusteMain:function(){this.mainTipoAjusteView instanceof Backbone.View&&(this.mainTipoAjusteView.stopListening(),this.mainTipoAjusteView.undelegateEvents()),this.mainTipoAjusteView=new app.MainTipoAjusteView},getTipoAjusteCreate:function(){this.tipoAjusteModel=new app.TipoAjusteModel,this.createTipoajusteView instanceof Backbone.View&&(this.createTipoajusteView.stopListening(),this.createTipoajusteView.undelegateEvents()),this.createTipoajusteView=new app.CreateTipoAjusteView({model:this.tipoAjusteModel}),this.createTipoajusteView.render()},getTipoAjusteEdit:function(e){this.tipoAjusteModel=new app.TipoAjusteModel,this.tipoAjusteModel.set({id:e},{silent:!0}),this.createTipoAjusteView instanceof Backbone.View&&(this.createTipoAjusteView.stopListening(),this.createTipoAjusteView.undelegateEvents()),this.createTipoAjusteView=new app.CreateTipoAjusteView({model:this.tipoAjusteModel}),this.tipoAjusteModel.fetch()},getPresupuestoAsesorMain:function(){this.mainPresupuestoAsesorView instanceof Backbone.View&&(this.mainPresupuestoAsesorView.stopListening(),this.mainPresupuestoAsesorView.undelegateEvents()),this.mainPresupuestoAsesorView=new app.MainPresupuestoAsesorView},getFoldersMain:function(){this.mainFoldersView instanceof Backbone.View&&(this.mainFoldersView.stopListening(),this.mainFoldersView.undelegateEvents()),this.mainFoldersView=new app.MainFoldersView},getFoldersCreate:function(){this.folderModel=new app.FolderModel,this.createFolderView instanceof Backbone.View&&(this.createFolderView.stopListening(),this.createFolderView.undelegateEvents()),this.createFolderView=new app.CreateFolderView({model:this.folderModel}),this.createFolderView.render()},getFoldersEdit:function(e){this.folderModel=new app.FolderModel,this.folderModel.set({id:e},{silent:!0}),this.createFolderView instanceof Backbone.View&&(this.createFolderView.stopListening(),this.createFolderView.undelegateEvents()),this.createFolderView=new app.CreateFolderView({model:this.folderModel}),this.folderModel.fetch()},getDocumentosMain:function(){this.mainDocumentosView instanceof Backbone.View&&(this.mainDocumentosView.stopListening(),this.mainDocumentosView.undelegateEvents()),this.mainDocumentosView=new app.MainDocumentosView},getDocumentosCreate:function(){this.documentoModel=new app.DocumentoModel,this.createDocumentoView instanceof Backbone.View&&(this.createDocumentoView.stopListening(),this.createDocumentoView.undelegateEvents()),this.createDocumentoView=new app.CreateDocumentoView({model:this.documentoModel}),this.createDocumentoView.render()},getDocumentosEdit:function(e){this.documentoModel=new app.DocumentoModel,this.documentoModel.set({id:e},{silent:!0}),this.createDocumentoView instanceof Backbone.View&&(this.createDocumentoView.stopListening(),this.createDocumentoView.undelegateEvents()),this.createDocumentoView=new app.CreateDocumentoView({model:this.documentoModel}),this.documentoModel.fetch()},getPlanCuentasMain:function(){this.mainPlanCuentasView instanceof Backbone.View&&(this.mainPlanCuentasView.stopListening(),this.mainPlanCuentasView.undelegateEvents()),this.mainPlanCuentasView=new app.MainPlanCuentasView},getPlanCuentasCreate:function(){this.planCuentaModel=new app.PlanCuentaModel,this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.createPlanCuentaView.render()},getPlanCuentasEdit:function(e){this.planCuentaModel=new app.PlanCuentaModel,this.planCuentaModel.set({id:e},{silent:!0}),this.createPlanCuentaView instanceof Backbone.View&&(this.createPlanCuentaView.stopListening(),this.createPlanCuentaView.undelegateEvents()),this.createPlanCuentaView=new app.CreatePlanCuentaView({model:this.planCuentaModel}),this.planCuentaModel.fetch()},getCentrosCostoMain:function(){this.mainCentrosCostoView instanceof Backbone.View&&(this.mainCentrosCostoView.stopListening(),this.mainCentrosCostoView.undelegateEvents()),this.mainCentrosCostoView=new app.MainCentrosCostoView},getCentrosCostoCreate:function(){this.centroCostoModel=new app.CentroCostoModel,this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.createCentroCostoView.render()},getCentrosCostoEdit:function(e){this.centroCostoModel=new app.CentroCostoModel,this.centroCostoModel.set({id:e},{silent:!0}),this.createCentroCostoView instanceof Backbone.View&&(this.createCentroCostoView.stopListening(),this.createCentroCostoView.undelegateEvents()),this.createCentroCostoView=new app.CreateCentroCostoView({model:this.centroCostoModel,parameters:{callback:"toShow"}}),this.centroCostoModel.fetch()},getAsientosMain:function(){
this.mainAsientosView instanceof Backbone.View&&(this.mainAsientosView.stopListening(),this.mainAsientosView.undelegateEvents()),this.mainAsientosView=new app.MainAsientosView},getAsientosCreate:function(){this.asientoModel=new app.AsientoModel,this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.createAsientoView=new app.CreateAsientoView({model:this.asientoModel}),this.createAsientoView.render()},getAsientosShow:function(e){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:e},{silent:!0}),this.showAsientoView instanceof Backbone.View&&(this.showAsientoView.stopListening(),this.showAsientoView.undelegateEvents()),this.showAsientoView=new app.ShowAsientoView({model:this.asientoModel})},getAsientosEdit:function(e){this.asientoModel=new app.AsientoModel,this.asientoModel.set({id:e},{silent:!0}),this.editAsientoView instanceof Backbone.View&&(this.editAsientoView.stopListening(),this.editAsientoView.undelegateEvents()),this.createAsientoView instanceof Backbone.View&&(this.createAsientoView.stopListening(),this.createAsientoView.undelegateEvents()),this.editAsientoView=new app.EditAsientoView({model:this.asientoModel}),this.asientoModel.fetch()},getMarcasMain:function(){this.mainMarcaView instanceof Backbone.View&&(this.mainMarcaView.stopListening(),this.mainMarcaView.undelegateEvents()),this.mainMarcaView=new app.MainMarcasView},getMarcasCreate:function(){this.marcaModel=new app.MarcaModel,this.createMarcaView instanceof Backbone.View&&(this.createMarcaView.stopListening(),this.createMarcaView.undelegateEvents()),this.createMarcaView=new app.CreateMarcaView({model:this.marcaModel}),this.createMarcaView.render()},getMarcasEdit:function(e){this.marcaModel=new app.MarcaModel,this.marcaModel.set({id:e},{silent:!0}),this.createMarcaView instanceof Backbone.View&&(this.createMarcaView.stopListening(),this.createMarcaView.undelegateEvents()),this.createMarcaView=new app.CreateMarcaView({model:this.marcaModel}),this.marcaModel.fetch()},getCategoriasMain:function(){this.mainCategoriasView instanceof Backbone.View&&(this.mainCategoriasView.stopListening(),this.mainCategoriasView.undelegateEvents()),this.mainCategoriasView=new app.MainCategoriasView},getCategoriasCreate:function(){this.categoriaModel=new app.CategoriaModel,this.createCategoriaView instanceof Backbone.View&&(this.createCategoriaView.stopListening(),this.createCategoriaView.undelegateEvents()),this.createCategoriaView=new app.CreateCategoriaView({model:this.categoriaModel}),this.createCategoriaView.render()},getCategoriasEdit:function(e){this.categoriaModel=new app.CategoriaModel,this.categoriaModel.set({id:e},{silent:!0}),this.createCategoriaView instanceof Backbone.View&&(this.createCategoriaView.stopListening(),this.createCategoriaView.undelegateEvents()),this.createCategoriaView=new app.CreateCategoriaView({model:this.categoriaModel}),this.categoriaModel.fetch()},getSubCategoriasMain:function(){this.mainSubCategoriasView instanceof Backbone.View&&(this.mainSubCategoriasView.stopListening(),this.mainSubCategoriasView.undelegateEvents()),this.mainSubCategoriasView=new app.MainSubCategoriasView},getSubCategoriasCreate:function(){this.subcategoriaModel=new app.SubCategoriaModel,this.createSubCategoriaView instanceof Backbone.View&&(this.createSubCategoriaView.stopListening(),this.createSubCategoriaView.undelegateEvents()),this.createCategoriaView=new app.CreateSubCategoriaView({model:this.subcategoriaModel}),this.createCategoriaView.render()},getSubCategoriasEdit:function(e){this.subcategoriaModel=new app.SubCategoriaModel,this.subcategoriaModel.set({id:e},{silent:!0}),this.createSubCategoriaView instanceof Backbone.View&&(this.createSubCategoriaView.stopListening(),this.createSubCategoriaView.undelegateEvents()),this.createSubCategoriaView=new app.CreateSubCategoriaView({model:this.subcategoriaModel}),this.subcategoriaModel.fetch()},getImpuestosMain:function(){this.mainImpuestosView instanceof Backbone.View&&(this.mainImpuestosView.stopListening(),this.mainImpuestosView.undelegateEvents()),this.mainImpuestosView=new app.MainImpuestosView},getImpuestoCreate:function(){this.impuestoModel=new app.ImpuestoModel,this.createImpuestoView instanceof Backbone.View&&(this.createImpuestoView.stopListening(),this.createImpuestoView.undelegateEvents()),this.createImpuestoView=new app.CreateImpuestoView({model:this.impuestoModel}),this.createImpuestoView.render()},getImpuestoEdit:function(e){this.impuestoModel=new app.ImpuestoModel,this.impuestoModel.set({id:e},{silent:!0}),this.createImpuestoView instanceof Backbone.View&&(this.createImpuestoView.stopListening(),this.createImpuestoView.undelegateEvents()),this.createImpuestoView=new app.CreateImpuestoView({model:this.impuestoModel}),this.impuestoModel.fetch()},getModelosMain:function(){this.mainModeloView instanceof Backbone.View&&(this.mainModeloView.stopListening(),this.mainModeloView.undelegateEvents()),this.mainModeloView=new app.MainModelosView},getModelosCreate:function(){this.modeloModel=new app.ModeloModel,this.createModeloView instanceof Backbone.View&&(this.createModeloView.stopListening(),this.createModeloView.undelegateEvents()),this.createModeloView=new app.CreateModeloView({model:this.modeloModel}),this.createModeloView.render()},getModelosEdit:function(e){this.modeloModel=new app.ModeloModel,this.modeloModel.set({id:e},{silent:!0}),this.createModeloView instanceof Backbone.View&&(this.createModeloView.stopListening(),this.createModeloView.undelegateEvents()),this.createModeloView=new app.CreateModeloView({model:this.modeloModel}),this.modeloModel.fetch()},getLineasMain:function(){this.mainLineasView instanceof Backbone.View&&(this.mainLineasView.stopListening(),this.mainLineasView.undelegateEvents()),this.mainLineasView=new app.MainLineasView},getLineaCreate:function(){this.lineaModel=new app.LineaModel,this.createLineaView instanceof Backbone.View&&(this.createLineaView.stopListening(),this.createLineaView.undelegateEvents()),this.createLineaView=new app.CreateLineaView({model:this.lineaModel}),this.createLineaView.render()},getLineasEdit:function(e){this.lineaModel=new app.LineaModel,this.lineaModel.set({id:e},{silent:!0}),this.createLineaView instanceof Backbone.View&&(this.createLineaView.stopListening(),this.createLineaView.undelegateEvents()),this.createLineaView=new app.CreateLineaView({model:this.lineaModel}),this.lineaModel.fetch()},getUnidadesMain:function(){this.mainUnidadesView instanceof Backbone.View&&(this.mainUnidadesView.stopListening(),this.mainUnidadesView.undelegateEvents()),this.mainUnidadesView=new app.MainUnidadesView},getUnidadesCreate:function(){this.unidadModel=new app.UnidadModel,this.createUnidadView instanceof Backbone.View&&(this.createUnidadView.stopListening(),this.createUnidadView.undelegateEvents()),this.createUnidadView=new app.CreateUnidadView({model:this.unidadModel}),this.createUnidadView.render()},getUnidadesEdit:function(e){this.unidadModel=new app.UnidadModel,this.unidadModel.set({id:e},{silent:!0}),this.createUnidadView instanceof Backbone.View&&(this.createUnidadView.stopListening(),this.createUnidadView.undelegateEvents()),this.createUnidadView=new app.CreateUnidadView({model:this.unidadModel}),this.unidadModel.fetch()},getUnidadesNegocioMain:function(){this.mainUnidadesNegocioView instanceof Backbone.View&&(this.mainUnidadesNegocioView.stopListening(),this.mainUnidadesNegocioView.undelegateEvents()),this.mainUnidadesNegocioView=new app.MainUnidadesNegocioView},getUnidadNegocioCreate:function(){this.unidadNegocioModel=new app.UnidadNegocioModel,this.createUnidadNegocioView instanceof Backbone.View&&(this.createUnidadNegocioView.stopListening(),this.createUnidadNegocioView.undelegateEvents()),this.createUnidadNegocioView=new app.CreateUnidadNegocioView({model:this.unidadNegocioModel}),this.createUnidadNegocioView.render()},getUnidadNegocioEdit:function(e){this.unidadNegocioModel=new app.UnidadNegocioModel,this.unidadNegocioModel.set({id:e},{silent:!0}),this.createUnidadNegocioView instanceof Backbone.View&&(this.createUnidadNegocioView.stopListening(),this.createUnidadNegocioView.undelegateEvents()),this.createUnidadNegocioView=new app.CreateUnidadNegocioView({model:this.unidadNegocioModel}),this.unidadNegocioModel.fetch()},getProductosMain:function(){this.mainProductosView instanceof Backbone.View&&(this.mainProductosView.stopListening(),this.mainProductosView.undelegateEvents()),this.mainProductosView=new app.MainProductosView},getProductosCreate:function(){this.productoModel=new app.ProductoModel,this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.createProductoView.render()},getProductosEdit:function(e){this.productoModel=new app.ProductoModel,this.productoModel.set({id:e},{silent:!0}),this.createProductoView instanceof Backbone.View&&(this.createProductoView.stopListening(),this.createProductoView.undelegateEvents()),this.createProductoView=new app.CreateProductoView({model:this.productoModel}),this.productoModel.fetch()},getPedidosMain:function(){this.mainPedidosView instanceof Backbone.View&&(this.mainPedidosView.stopListening(),this.mainPedidosView.undelegateEvents()),this.mainPedidosView=new app.MainPedidosView},getPedidosCreate:function(){this.pedidoModel=new app.PedidoModel,this.createPedidoView instanceof Backbone.View&&(this.createPedidoView.stopListening(),this.createPedidoView.undelegateEvents()),this.createPedidoView=new app.CreatePedidoView({model:this.pedidoModel}),this.createPedidoView.render()},getPedidoShow:function(e){this.pedidoModel=new app.PedidoModel,this.pedidoModel.set({id:e},{silent:!0}),this.showPedidoView instanceof Backbone.View&&(this.showPedidoView.stopListening(),this.showPedidoView.undelegateEvents()),this.showPedidoView=new app.ShowPedidoView({model:this.pedidoModel}),this.pedidoModel.fetch()},getPedidosEdit:function(e){this.pedidoModel=new app.PedidoModel,this.pedidoModel.set({id:e},{silent:!0}),this.editPedidoView instanceof Backbone.View&&(this.editPedidoView.stopListening(),this.editPedidoView.undelegateEvents()),this.createPedidoView instanceof Backbone.View&&(this.createPedidoView.stopListening(),this.createPedidoView.undelegateEvents()),this.editPedidoView=new app.EditPedidoView({model:this.pedidoModel}),this.pedidoModel.fetch()},getAjustesMain:function(){this.mainAjustesView instanceof Backbone.View&&(this.mainAjustesView.stopListening(),this.mainAjustesView.undelegateEvents()),this.mainAjustesView=new app.MainAjustesView},getAjustesCreate:function(){this.ajusteModel=new app.AjusteModel,this.createAjusteView instanceof Backbone.View&&(this.createAjusteView.stopListening(),this.createAjusteView.undelegateEvents()),this.createAjusteView=new app.CreateAjusteView({model:this.ajusteModel}),this.createAjusteView.render()},getAjusteShow:function(e){this.ajusteModel=new app.AjusteModel,this.ajusteModel.set({id:e},{silent:!0}),this.showAjusteView instanceof Backbone.View&&(this.showAjusteView.stopListening(),this.showAjusteView.undelegateEvents()),this.showAjusteView=new app.ShowAjusteView({model:this.ajusteModel}),this.ajusteModel.fetch()}}))}(jQuery,this,this.document);var app=app||{};!function(e,t,i,o){var n=function(){e.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})};String.prototype.replaceAll=function(e,t){return t?this.replace(new RegExp("["+e+"]","g"),t):this},n.prototype={initialize:function(){this.initApp(),this.initICheck(),this.initAlertify(),this.initSelect2(),this.initToUpper(),this.initSpinner(),this.initInputMask(),this.initDatePicker()},initApp:function(){t.app.AppRouter.start()},initICheck:function(){e("input").iCheck({checkboxClass:"icheckbox_minimal-green",radioClass:"iradio_minimal-green"})},initAlertify:function(){alertify.logPosition("bottom right")},initSelect2:function(){e(".select2-default").select2({language:"es",placeholder:"Seleccione",allowClear:!1}),e(".select2-default-clear").select2({language:"es",placeholder:"Seleccione",allowClear:!0})},initToUpper:function(){e(".input-toupper").change(function(){e(this).val(e(this).val().toUpperCase())}),e(".input-lower").change(function(){for(var t=e(this).val(e(this).val().toLowerCase()),i=/[^a-z0-9]/i,o="",n=0;n<=t.val().length-1;n++)i.test(t.val().charAt(n))||(t.val().replace(i,""),o+=t.val().charAt(n));e(this).val(o)})},initSpinner:function(){e(".spinner-percentage").spinner({step:.1,start:0,min:0,max:100,numberFormat:"n",stop:function(t,i){_.isNull(this.value)||_.isUndefined(this.value)||_.isEmpty(this.value)||(!e.isNumeric(this.value)||this.value>100||this.value<0)&&e(this).spinner("value",0)}})},initInputMask:function(){e("[data-mask]").inputmask(),e("[data-currency]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0,onBeforeMask:function(e,t){var i=e||0;return i},oncleared:function(t){var i=e(this);(null==this.inputmask.unmaskedvalue()||isNaN(parseFloat(this.inputmask.unmaskedvalue())))&&i.inputmask("setvalue",0)}}),e("[data-currency-precise]").inputmask({radixPoint:",",alias:"currency",removeMaskOnSubmit:!0,unmaskAsNumber:!0,min:0,digits:0,onBeforeMask:function(e,t){var i=e||0;return i},oncleared:function(t){var i=e(this);(null==this.inputmask.unmaskedvalue()||isNaN(parseFloat(this.inputmask.unmaskedvalue())))&&i.inputmask("setvalue",0)}})},initValidator:function(){e('form[data-toggle="validator"]').each(function(){var t=e(this);e.fn.validator.call(t,t.data())})},initDatePicker:function(){e(".datepicker").datepicker({autoclose:!0,language:"es",format:"yyyy-mm-dd"})}},e(function(){t.initComponent=new n,t.initComponent.initialize()})}(jQuery,this,this.document);